{
    "version": "https://jsonfeed.org/version/1",
    "title": "跨越屏幕，幸识",
    "subtitle": "",
    "icon": "https://liuxiaohanhanzi.top/assets/favicon.ico",
    "description": "What is \"LOVE\" ?",
    "home_page_url": "https://liuxiaohanhanzi.top",
    "items": [
        {
            "id": "https://liuxiaohanhanzi.top/blog-construction/hexo%E5%9B%BE%E7%89%87%E5%A4%A7%E5%B0%8F%E6%8C%87%E5%8D%97/",
            "url": "https://liuxiaohanhanzi.top/blog-construction/hexo%E5%9B%BE%E7%89%87%E5%A4%A7%E5%B0%8F%E6%8C%87%E5%8D%97/",
            "title": "hexo图片大小指南",
            "date_published": "2024-10-16T16:23:00.000Z",
            "content_html": "<p>强迫者请自助</p>\n<h1 id=\"封面图\"><a class=\"anchor\" href=\"#封面图\">#</a> 封面图</h1>\n<p>首先，博主的显示器是 2560*1600，放大 150%</p>\n<p>扒源代码易得封面轮播图的长度占浏览器窗口的 100%，高度占 70%</p>\n<figure class=\"highlight css\"><figcaption data-lang=\"CSS\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 70vh<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>在浏览器按 F12 运行以下代码，可知浏览器窗口的长宽：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>console.log<span class=\"token punctuation\">(</span>window.innerWidth<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>console.log<span class=\"token punctuation\">(</span>window.innerHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>此处打印的是视口的宽度和高度，不包括浏览器的工具栏或书签栏。</p>\n<p>打印结果，我的浏览器视口为 1707*898，长度放大 1.5 倍正好与显示器分辨率 2560 吻合。</p>\n<p>那么我们的图片长宽比即为 <code>1707:898*0.7</code> = <code>2560:943</code> = <code>1920:707</code> ，按这个比例裁剪吧</p>\n<blockquote>\n<p>其实直接看代码也会显示比例：</p>\n</blockquote>\n<p><img loading=\"lazy\" data-src=\"image-20241017004542603.png\" alt=\"image-20241017004542603\" /></p>\n<div class=\"note info\">\n<p>更近一步的话，可以再将白色波浪的遮挡考虑进来<br />\n<img loading=\"lazy\" data-src=\"image-20241017004955203.png\" alt=\"image-20241017004955203\" /><br />\n 上方 header 的高度为 50vh，白色波浪的 <code>class=&quot;waves&quot;</code>  的高度为 15vh。考虑动态变化，博主认为按时间平均的情况下，40% 的 waves 不会遮挡，那么 (50+15*0.4)÷70=0.8，即从顶部算起，图片高度的 80% 不会被遮挡。据此来裁剪图片到满意的位置。</p>\n</div>\n<h1 id=\"文章cover分类图\"><a class=\"anchor\" href=\"#文章cover分类图\">#</a> 文章 cover &amp; 分类图</h1>\n<ul>\n<li>文章封面</li>\n</ul>\n<p><img loading=\"lazy\" data-src=\"image-20241017005849334.png\" alt=\"image-20241017005849334\" /></p>\n<p>如图，图片长宽比为 2560:1286</p>\n<ul>\n<li>精选分类</li>\n</ul>\n<p><img loading=\"lazy\" data-src=\"image-20241017011751623.png\" alt=\"image-20241017011751623\" /></p>\n<p>如图，图片长宽比为 2560:1120</p>\n",
            "tags": [
                "博客搭建",
                "hexo",
                "shoka"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/blog-construction/Hexo-SEO-%E4%BC%98%E5%8C%96/",
            "url": "https://liuxiaohanhanzi.top/blog-construction/Hexo-SEO-%E4%BC%98%E5%8C%96/",
            "title": "Hexo SEO 优化",
            "date_published": "2024-10-14T09:47:26.000Z",
            "content_html": "<h1 id=\"序言\"><a class=\"anchor\" href=\"#序言\">#</a> 序言</h1>\n<p>Hexo 个人博客搭建完毕后，还是希望被更多有需要的人看到。因此搜索引擎相关 SEO 就需要一定配置。</p>\n<p>SEO（Search Engine Optimization）是搜索引擎优化的简称。SEO 就是想办法让你的网站在搜索引擎上更容易被找到。</p>\n<h1 id=\"优化关键词\"><a class=\"anchor\" href=\"#优化关键词\">#</a> 优化关键词</h1>\n<p>在根目录下的 <code>_config.yml</code>  中修改配置：</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Site</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> 跨越屏幕，幸识</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">subtitle</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> What is \"LOVE\" <span class=\"token punctuation\">?</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token key atrule\">keywords</span><span class=\"token punctuation\">:</span> &lt;你的网站关键词<span class=\"token punctuation\">></span> <span class=\"token comment\"># 可以设置多个，注意用英文逗号隔开</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token key atrule\">author</span><span class=\"token punctuation\">:</span> 柳小寒寒子</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token key atrule\">language</span><span class=\"token punctuation\">:</span> zh<span class=\"token punctuation\">-</span>CN</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token key atrule\">timezone</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Asia/Shanghai'</span></pre></td></tr></table></figure><h1 id=\"收录\"><a class=\"anchor\" href=\"#收录\">#</a> 收录</h1>\n<p>在谷歌等搜索引擎输入下面格式判断是否被收录：</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>site:liuxiaohanhanzi.top</pre></td></tr></table></figure><p>若搜索不到，则在<a href=\"https://www.google.com/webmasters/tools/dashboard\">谷歌</a>、<a href=\"https://ziyuan.baidu.com/site/index\">百度</a>、<a href=\"https://www.bing.com/webmasters/about?setlang=zh-cn\">必应</a> 的站长平台添加。</p>\n<div class=\"note info\">\n<p>使用站长平台添加主站并验证后，可证明您是该域名的拥有者，可以快捷批量添加子站点，查看所有子站数据，无需再一一验证您的子站点。</p>\n</div>\n<ul>\n<li>\n<p>选择 CNAME 验证比较简单，在域名解析中添加一条记录即可；</p>\n</li>\n<li>\n<p>选择文件验证，目标是在 <code>hexo g</code>  生成的 public 文件夹目录下放入下载的 HTML 文件。这里我们将验证文件放在 hexo-theme-shokax/source 文件夹下，再 <code>hexo g</code>  生成网页，即完成目标。<br />\n注：因为站点 source 下面的 html 文件都会被按照主题样式重新渲染，最后 html 文件的内容会被改变，就不能通过验证。此外，为保持验证通过的状态，成功验证后请不要删除 HTML 文件。</p>\n</li>\n</ul>\n<h1 id=\"创建站点地图文件\"><a class=\"anchor\" href=\"#创建站点地图文件\">#</a> 创建站点地图文件</h1>\n<p>站点地图是一种文件，您可以通过该文件列出您网站上的网页，从而将您网站内容的组织架构告知 Google 和其他搜索引擎。搜索引擎网页抓取工具会读取此文件，以便更加智能地抓取您的网站。</p>\n<ol>\n<li>安装，由于博主建立工程时使用的是 pnpm，所以这里在博客根目录运行代码：</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">pnpm</span> <span class=\"token function\">install</span> hexo-generator-sitemap <span class=\"token parameter variable\">--save</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">pnpm</span> <span class=\"token function\">install</span> hexo-generator-baidu-sitemap <span class=\"token parameter variable\">--save</span></pre></td></tr></table></figure><ol start=\"2\">\n<li>根目录下的 <code>_config.yml</code>  中加入：</li>\n</ol>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">Plugins</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">#- hexo-generator-baidu-sitemap</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">-</span> hexo<span class=\"token punctuation\">-</span>generator<span class=\"token punctuation\">-</span>sitemap</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># sitemap 网站地图</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token key atrule\">sitemap</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> sitemap.xml</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token key atrule\">tag</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token key atrule\">category</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">#baidusitemap:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">#  path: baidusitemap.xml</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">#  tag: false</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">#  category: false</span></pre></td></tr></table></figure><ol start=\"3\">\n<li>运行后在根目录的 public 下面发现生成了 sitemap.xml 以及 baidusitemap.xml，就表示成功了</li>\n</ol>\n<h1 id=\"添加robotstxt\"><a class=\"anchor\" href=\"#添加robotstxt\">#</a> 添加 robots.txt</h1>\n<p>robots.txt 是存放在网站根目录下的一个纯文本文件，它可以指定搜寻引擎爬虫哪些是可以爬的路径，哪些是不能爬的，这也能增强 SEO，以下为我的设置：</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>User-agent: *</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Allow: /</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Allow: /archives/</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Allow: /tags/</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Allow: /categories/</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>Allow: /about/</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>Disallow: /vendors/</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Disallow: /fonts/</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Disallow: /vendors/</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Disallow: /fancybox/</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>Sitemap: https://liuxiaohanhanzi.top/sitemap.xml // 注：博主把这行删了</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>Sitemap: https://liuxiaohanhanzi.top/baidusitemap.xml</pre></td></tr></table></figure><h1 id=\"nofollow组件\"><a class=\"anchor\" href=\"#nofollow组件\">#</a> nofollow 组件</h1>\n<p>nofollow 组件可以对外链添加 <code>rel=&quot;external nofollow noreferrer&quot;</code>  ，等同于告诉搜索引擎不要追踪此网页上的链接。这样，不安全的、搜索引擎印象不佳的外链就不会影响网站的 SEO，防止了权重流失。</p>\n<p>安装方法：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">pnpm</span> i hexo-filter-nofollow <span class=\"token parameter variable\">--save</span></pre></td></tr></table></figure><p>在根目录 <code>config.yml</code>  添加如下配置：</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">nofollow</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># 是否启用</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">field</span><span class=\"token punctuation\">:</span> site <span class=\"token comment\"># site 全网站，post 仅文章</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token string\">'liuxiaohanhanzi.top'</span> <span class=\"token comment\"># 例外网址</span></pre></td></tr></table></figure><h1 id=\"推送链接\"><a class=\"anchor\" href=\"#推送链接\">#</a> 推送链接</h1>\n<h2 id=\"提交sitemapxml\"><a class=\"anchor\" href=\"#提交sitemapxml\">#</a> 提交 <code>sitemap.xml</code></h2>\n<p>直接在站长平台输入 <code>sitemap.xml</code>  的地址，通过站点地图（sitemap）告知搜索引擎站点中所有页面的结构和链接。在 <code>sitemap.xml</code>  文件中，可以使用 <code>&lt;changefreq&gt;</code>  标签来建议搜索引擎页面的更新频率，例如 <code>always</code> 、 <code>daily</code> 、 <code>weekly</code>  等。</p>\n<p>这种方法优势在于自动化，搜索引擎会根据爬取规则定期抓取 <code>sitemap.xml</code>  中的链接。</p>\n<h2 id=\"主动推送链接\"><a class=\"anchor\" href=\"#主动推送链接\">#</a> 主动推送链接</h2>\n<ol>\n<li>安装插件：</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">pnpm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">--save</span> hexo-submit-urls-to-search-engine</pre></td></tr></table></figure><ol start=\"2\">\n<li>获取站长平台 Token</li>\n</ol>\n<p>这里百度和 bing 的 api 获取比较简单，谷歌 api 需按照<a href=\"https://developers.google.cn/search/apis/indexing-api/v3/prereqs\">官方文档</a>，完成以下步骤：</p>\n<ul>\n<li><a href=\"https://developers.google.cn/search/apis/indexing-api/v3/prereqs#create-project\">为客户端创建一个项目</a></li>\n<li><a href=\"https://developers.google.cn/search/apis/indexing-api/v3/prereqs#create-service-account\">创建服务账号</a></li>\n</ul>\n<blockquote>\n<p>注意在创建服务账号时，以 json 格式保存密钥，下载好保存到博客根目录，同时修改 json 文件名称，防止隐私泄露。新的 json 文件名要与 <code>_config.yml</code>  中的设置对应。</p>\n</blockquote>\n<p><img loading=\"lazy\" data-src=\"image-20241015230943150.png\" alt=\"image-20241015230943150\" /></p>\n<ul>\n<li>进入<a href=\"https://search.google.com/search-console/users\"> Google Search Console—— 用户和权限</a>后台，点击添加用户，电子邮件地址为<a href=\"https://console.cloud.google.com/iam-admin/serviceaccounts?hl=zh-cn\">创建服务账号</a>时的电子邮件地址，权限设置为拥有者</li>\n</ul>\n<p><img loading=\"lazy\" data-src=\"image-20241015231250786.png\" alt=\"image-20241015231250786\" /></p>\n<div class=\"note info\">\n<p>如果放错了 json 文件位置导致其进入 public 文件夹，git 会报错，无法推送到 github page 库。这时请删除 <code>.deploy_git</code>  文件夹，移动谷歌 key 文件到对的位置，重新运行</p>\n</div>\n<ol start=\"3\">\n<li>在_config.yml 中添加配置：</li>\n</ol>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># seo 推送</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">hexo_submit_urls_to_search_engine</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">submit_condition</span><span class=\"token punctuation\">:</span> count   <span class=\"token comment\"># 链接被提交的条件，可选值：count | period 现仅支持 count</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">count</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>     <span class=\"token comment\"># 提交最新的 10 个链接</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token key atrule\">period</span><span class=\"token punctuation\">:</span> <span class=\"token number\">900</span>   <span class=\"token comment\"># 提交修改时间在 900 秒内的链接</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token key atrule\">google</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>     <span class=\"token comment\"># 是否向 Google 提交，可选值：1 | 0（0：否；1：是）</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token key atrule\">bing</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>       <span class=\"token comment\"># 是否向 bing 提交，可选值：1 | 0（0：否；1：是）</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token key atrule\">baidu</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>      <span class=\"token comment\"># 是否向 baidu 提交，可选值：1 | 0（0：否；1：是）</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token key atrule\">txt_path</span><span class=\"token punctuation\">:</span> submit_urls.txt\t\t\t\t\t<span class=\"token comment\"># 文本文档名，需要推送的链接会保存在此文本文档里</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token key atrule\">baidu_host</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//liuxiaohanhanzi.top   <span class=\"token comment\"># 在百度站长平台中注册的域名</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token key atrule\">baidu_token</span><span class=\"token punctuation\">:</span> your baidu token         \t<span class=\"token comment\"># 百度秘钥，请不要发布到公开仓库中！</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token key atrule\">bing_host</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//liuxiaohanhanzi.top    <span class=\"token comment\"># 在 bing 站长平台中注册的域名</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token key atrule\">bing_token</span><span class=\"token punctuation\">:</span> your bing token           \t<span class=\"token comment\"># bing 秘钥，请不要发布到公开仓库中！</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token key atrule\">google_host</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//liuxiaohanhanzi.top  <span class=\"token comment\"># 在 google 站长平台中注册的域名</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token key atrule\">google_key_file</span><span class=\"token punctuation\">:</span> google.json          \t<span class=\"token comment\"># 存放 google key 的 json 文件，放于网站根目录，请不要发布到公开仓库中！</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token key atrule\">google_proxy</span><span class=\"token punctuation\">:</span> http<span class=\"token punctuation\">:</span>//127.0.0.1<span class=\"token punctuation\">:</span><span class=\"token number\">7890</span>           <span class=\"token comment\"># 向谷歌提交网址所使用的 http 代理，填 0 不使用，本地推送需要配置，这里使用 clash</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token key atrule\">replace</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>                            \t<span class=\"token comment\"># 是否替换链接中的部分字符串，可选值：1 | 0（0：否；1：是）</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token key atrule\">find_what</span><span class=\"token punctuation\">:</span> </pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token key atrule\">replace_with</span><span class=\"token punctuation\">:</span> </pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> git@github.com<span class=\"token punctuation\">:</span>liuxiaohanhanzi/liuxiaohanhanzi.github.io.git</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> main <span class=\"token comment\"># 分支名称。默认填写 master 如果您使用的是 GitHub ，程序会尝试自动检测。</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token key atrule\">message</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 提交信息可以自定义，不填的则默认为提交时间</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> cjh_google_url_submitter</pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> cjh_bing_url_submitter</pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token comment\">#- type: cjh_baidu_url_submitter</span></pre></td></tr></table></figure><div class=\"note warning\">\n<p>本帖中博主把所有百度的内容都注释掉了。因为百度站长很麻烦，还需要公安报备、内容审核等。</p>\n<p>博主如今搭建个人博客本就是被各平台的审核逼得。莫再落入窠臼。</p>\n</div>\n<ol start=\"4\">\n<li>执行 <code>hexo d</code>  命令</li>\n</ol>\n<p>成功的话返回以下格式信息：</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>Bing response:  &#123; d: null &#125;</pre></td></tr></table></figure><figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>Baidu response:  &#123;\"remain\":2999,\"success\":1&#125;</pre></td></tr></table></figure><figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>Google response:  &#123;</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  urlNotificationMetadata: &#123;</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    url: 'https://liuxiaohanhanzi.top/2024/10/12/ShokaX%E5%9B%BE%E7%89%87%E7%AE%A1%E7%90%86/'</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  &#125;</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>&#125;</pre></td></tr></table></figure>",
            "tags": [
                "博客搭建",
                "hexo",
                "shoka"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/blog-construction/Hexo%E9%83%A8%E7%BD%B2-%E5%9F%9F%E5%90%8D%E7%BB%91%E5%AE%9A/",
            "url": "https://liuxiaohanhanzi.top/blog-construction/Hexo%E9%83%A8%E7%BD%B2-%E5%9F%9F%E5%90%8D%E7%BB%91%E5%AE%9A/",
            "title": "Hexo部署&域名绑定",
            "date_published": "2024-10-13T15:09:10.000Z",
            "content_html": "<p>参考<a href=\"https://easyhexo.com/1-Hexo-install-and-config/1-4-deploy-hexo.html\"> Hexo 官方文档</a></p>\n<h1 id=\"github-pages部署\"><a class=\"anchor\" href=\"#github-pages部署\">#</a> Github pages 部署</h1>\n<ol>\n<li>\n<p>在<a href=\"https://github.com/\"> GitHub</a> 创建一个名为 <code>username.github.io</code>  的公共存储库，其中 username 是您在 GitHub 上的用户名（注意必须要对应上，否则无法使用）</p>\n</li>\n<li>\n<p>在仓库界面点击 Code，复制仓库的 SSH 密钥</p>\n</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"image-20241013185413718.png\" alt=\"image-20241013185413718\" /></p>\n<ol start=\"3\">\n<li>在博客根目录的 <code>_config.yml</code>  进行修改：</li>\n</ol>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git <span class=\"token comment\"># 类型填 git</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t  <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> &lt;repository url<span class=\"token punctuation\">></span> <span class=\"token comment\"># 复制的 SSH 密钥</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t  <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> main <span class=\"token comment\"># 分支名称</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t  <span class=\"token key atrule\">message</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 提交信息可以自定义，不填的则默认为提交时间</span></pre></td></tr></table></figure><ol start=\"4\">\n<li>安装关联插件</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-deployer-git <span class=\"token parameter variable\">--save</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-server <span class=\"token parameter variable\">--save</span></pre></td></tr></table></figure><ol start=\"5\">\n<li>此时运行以下代码</li>\n</ol>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo clean <span class=\"token operator\">&amp;&amp;</span> hexo d <span class=\"token parameter variable\">-g</span></pre></td></tr></table></figure><p>即可访问 username.github.io 到博客页面</p>\n<h1 id=\"域名绑定\"><a class=\"anchor\" href=\"#域名绑定\">#</a> 域名绑定</h1>\n<ol>\n<li>注册购买域名</li>\n</ol>\n<p>国内一般使用阿里云和腾讯云。博主比较穷，在<a href=\"https://www.nazhumi.com/\">哪煮米</a>比较性价比，选择在 Spaceship 购买 top 域名。（这里付款方式使用 Paypal，绑定大陆银行卡，还要进行邮箱验证）</p>\n<p><img loading=\"lazy\" data-src=\"image-20241013185923315.png\" alt=\"image-20241013185923315\" /></p>\n<ol start=\"2\">\n<li>配置域名进行解析</li>\n</ol>\n<p>进入 spaceship 的<a href=\"https://www.spaceship.com/zh/application/advanced-dns-application/\">管理页面</a>，添加一条 DNS 记录，类型选择 CNAME，地址值填写 username.github.io：</p>\n<p><img loading=\"lazy\" data-src=\"image-20241013194649648.png\" alt=\"image-20241013194649648\" /></p>\n<ol start=\"3\">\n<li>设置 github 仓库</li>\n</ol>\n<p>进入刚刚的仓库，点击 settings - Pages，在 Custom domain 中填写自己的域名，save 后勾选强制 https（可能需等一下才能勾选）</p>\n<p><img loading=\"lazy\" data-src=\"image-20241013194042215.png\" alt=\"image-20241013194042215\" /></p>\n<ol start=\"4\">\n<li>绑定域名到 Hexo 博客</li>\n</ol>\n<p>修改根目录下的 <code>_config.yml</code> ：</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># URL</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">## Set your site url here. For example, if you use GitHub Page, set url as 'https://username.github.io/project'</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//liuxiaohanhanzi.top\t<span class=\"token comment\"># 修改为你自己的域名</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">permalink</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">:</span>year/<span class=\"token punctuation\">:</span>month/<span class=\"token punctuation\">:</span>day/<span class=\"token punctuation\">:</span>title/</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token key atrule\">permalink_defaults</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token key atrule\">pretty_urls</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token key atrule\">trailing_index</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># Set to false to remove trailing 'index.html' from permalinks</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token key atrule\">trailing_html</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># Set to false to remove trailing '.html' from permalinks</span></pre></td></tr></table></figure><ol start=\"5\">\n<li>本地文件</li>\n</ol>\n<p>在本地博客文件夹的 source 目录中新建 TXT 文件，里面输入自己的域名（无 http 前缀），保存名称为 “CNAME”（无后缀）</p>\n<img loading=\"lazy\" data-src=\"image-20241013193247008.png\" alt=\"image-20241013193247008\" style=\"width:80%;\" />\n<p>完成！</p>\n<h1 id=\"github域名加速\"><a class=\"anchor\" href=\"#github域名加速\">#</a> Github 域名加速</h1>\n<p>首先附上<a href=\"https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site\">官方指路文档</a></p>\n<p>添加以下 IP 地址的 <code>A</code>  类型记录到 DNS，host 为 <code>@</code> ：</p>\n<blockquote>\n<p>185.199.108.153<br />\n185.199.109.153<br />\n185.199.110.153<br />\n185.199.111.153</p>\n</blockquote>\n<p>完成后 DNS 解析如下：</p>\n<p><img loading=\"lazy\" data-src=\"image-20241013195341440.png\" alt=\"image-20241013195341440\" /></p>\n<h1 id=\"github-action自动部署未做\"><a class=\"anchor\" href=\"#github-action自动部署未做\">#</a> Github action 自动部署 (未做)</h1>\n<p>感觉目前没有什么必要做，先码住：<a href=\"https://blog.moehz.com/archives/github-action.html\">教程链接</a></p>\n",
            "tags": [
                "博客搭建",
                "hexo",
                "shoka",
                "github",
                "网络"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/blog-construction/ShokaX%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/",
            "url": "https://liuxiaohanhanzi.top/blog-construction/ShokaX%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/",
            "title": "ShokaX功能模块",
            "date_published": "2024-10-13T10:10:56.000Z",
            "content_html": "<h1 id=\"背景音乐\"><a class=\"anchor\" href=\"#背景音乐\">#</a> 背景音乐</h1>\n<p>参考 Yume 的官方文档：<a href=\"https://shoka.lostyu.me/computer-science/note/theme-shoka-doc/config/#%E8%83%8C%E6%99%AF%E9%9F%B3%E4%B9%90\">官方教程</a></p>\n<p>我在 <code>hexo-theme-shokax</code>  文件夹下的 <code>_config.yml</code>  中设置如下，注意网易云若使用 “我喜欢的音乐” 链接，链接最后的 <code>&amp;userid=</code>  部分需要去掉。</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">audio</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> QQ音乐</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token key atrule\">list</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#      - QQ 音乐连接</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> 网易云音乐</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">list</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">#      - 网易云链接</span></pre></td></tr></table></figure><h1 id=\"algolia搜索\"><a class=\"anchor\" href=\"#algolia搜索\">#</a> Algolia 搜索</h1>\n<p>参考<a href=\"https://docs.kaitaku.xyz/guide/config.html#algolia-%E6%90%9C%E7%B4%A2\"> ShokaX 官方文档</a></p>\n<ol>\n<li>前往<a href=\"https://www.algolia.com/\"> Algolia 官网</a>，这里博主使用谷歌账号登录</li>\n<li>进入 dashboard，依次点击 Search - Index - New - Index，填写 Index name（建议填写 shokaX）</li>\n<li>点击左下角 Settings - API Keys，在博客根目录下的 <code>_config.yml</code>  填写对应字段：</li>\n</ol>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">algolia</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">appId</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># Application ID</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">apiKey</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># Search API Key</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">adminApiKey</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># Admin API Key</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token key atrule\">chunkSize</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5000</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token key atrule\">indexName</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"shokaX\"</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token key atrule\">fields</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">-</span> title <span class=\"token comment\">#必须配置</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">-</span> path <span class=\"token comment\">#必须配置</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">-</span> categories <span class=\"token comment\">#推荐配置</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">-</span> content<span class=\"token punctuation\">:</span>strip<span class=\"token punctuation\">:</span>truncate<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2000</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">-</span> gallery</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">-</span> photos</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">-</span> tags</pre></td></tr></table></figure><h1 id=\"404页面\"><a class=\"anchor\" href=\"#404页面\">#</a> 404 页面</h1>\n<p>ShokaX 并没有自动配置 404 页面，这里博主参考了原 Shoka 的代码</p>\n<ul>\n<li>首先在 <code>hexo-theme-shokax\\layout\\page.pug</code>  中，加入代码</li>\n</ul>\n<figure class=\"highlight pug\"><figcaption data-lang=\"pug\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">block content</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token flow-control\"><span class=\"token branch keyword\">if</span> page<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'categories'</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token tag\">div<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">class</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token string\">\"collapse wrap\"</span></span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>            <span class=\"token tag\">h2<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">class</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token string\">\"item title\"</span></span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>                <span class=\"token tag\">a<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">href</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token function\">url_for</span><span class=\"token punctuation\">(</span>site<span class=\"token punctuation\">.</span>path</span><span class=\"token punctuation\">)</span></span></span>)</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                    <span class=\"token punctuation\">!=</span><span class=\"token code\"> <span class=\"token function\">__</span><span class=\"token punctuation\">(</span><span class=\"token string\">'menu.home'</span><span class=\"token punctuation\">)</span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>                <span class=\"token tag\">small</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                <span class=\"token punctuation\">!=</span><span class=\"token code\"> <span class=\"token function\">_p</span><span class=\"token punctuation\">(</span><span class=\"token string\">'counter.categories'</span><span class=\"token punctuation\">,</span> site<span class=\"token punctuation\">.</span>categories<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token punctuation\">!=</span><span class=\"token code\"> <span class=\"token function\">_list_categories</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token flow-control\"><span class=\"token branch keyword\">else</span> <span class=\"token keyword\">if</span> page<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'tags'</span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token tag\">div<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">class</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token string\">\"collapse wrap\"</span></span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token tag\">h2<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">class</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token string\">\"item title\"</span></span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                <span class=\"token tag\">a<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">href</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token function\">url_for</span><span class=\"token punctuation\">(</span>site<span class=\"token punctuation\">.</span>path</span><span class=\"token punctuation\">)</span></span></span>)</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                    <span class=\"token punctuation\">!=</span><span class=\"token code\"> <span class=\"token function\">__</span><span class=\"token punctuation\">(</span><span class=\"token string\">'menu.home'</span><span class=\"token punctuation\">)</span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                <span class=\"token tag\">small</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                <span class=\"token punctuation\">!=</span><span class=\"token code\"> <span class=\"token function\">_p</span><span class=\"token punctuation\">(</span><span class=\"token string\">'counter.tag_cloud'</span><span class=\"token punctuation\">,</span> site<span class=\"token punctuation\">.</span>tags<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            <span class=\"token tag\">div<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">class</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token string\">\"tag cloud\"</span></span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                <span class=\"token punctuation\">!=</span><span class=\"token code\"> <span class=\"token function\">tagcloud</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">min_font</span><span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span>tagcloud<span class=\"token punctuation\">.</span>min<span class=\"token punctuation\">,</span><span class=\"token literal-property property\">max_font</span><span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span>tagcloud<span class=\"token punctuation\">.</span>max<span class=\"token punctuation\">,</span><span class=\"token literal-property property\">amount</span><span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span>tagcloud<span class=\"token punctuation\">.</span>amount<span class=\"token punctuation\">,</span><span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">start_color</span><span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span>tagcloud<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">,</span><span class=\"token literal-property property\">end_color</span><span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span>tagcloud<span class=\"token punctuation\">.</span>end<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token comment\">// 加入 404 页面代码</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token flow-control\"><span class=\"token branch keyword\">else</span> <span class=\"token keyword\">if</span> page<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'404'</span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token tag\">div<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">class</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token string\">\"page wrap\"</span></span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token tag\">div<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">class</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token string\">\"notfound\"</span></span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>                <span class=\"token punctuation\">!=</span><span class=\"token code\"> <span class=\"token function\">__</span><span class=\"token punctuation\">(</span><span class=\"token string\">'title.not_found'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 页面文字</span></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>                <span class=\"token tag\">img<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">decoding</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token string\">\"async\"</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"lostimg\"</span> itemprop<span class=\"token operator\">=</span><span class=\"token string\">\"image\"</span> </span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>                <span class=\"token attr-name\">src</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token function\">url_for</span><span class=\"token punctuation\">(</span>theme<span class=\"token punctuation\">.</span>statics <span class=\"token operator\">+</span> theme<span class=\"token punctuation\">.</span>assets <span class=\"token operator\">+</span> <span class=\"token string\">'/'</span><span class=\"token operator\">+</span> theme<span class=\"token punctuation\">.</span>pastlove</span><span class=\"token punctuation\">)</span></span></span>)</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token flow-control\"><span class=\"token branch keyword\">else</span></span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token tag\">div<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">class</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token string\">\"page wrap\"</span></span><span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token punctuation\">!=</span><span class=\"token code\"> <span class=\"token function\">partial</span><span class=\"token punctuation\">(</span><span class=\"token string\">'_partials/post/post.pug'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">post</span><span class=\"token operator\">:</span> page<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token mixin\"><span class=\"token name function\">+CommentRender</span></span></pre></td></tr></table></figure><ul>\n<li>然后在 <code>hexo-theme-shokax/_config.yml</code>  中加入 theme 抛出的 404 图片：</li>\n</ul>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">pastlove</span><span class=\"token punctuation\">:</span> 404.png</pre></td></tr></table></figure><ul>\n<li>在 <code>hexo-theme-shokax/source/css/_common/components/pages/pages.styl</code>  下进行样式编写：</li>\n</ul>\n<figure class=\"highlight stylus\"><figcaption data-lang=\"stylus\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token selector\">.page <span class=\"token punctuation\">&#123;</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token selector\">.notfound <span class=\"token punctuation\">&#123;</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">px</span> auto<span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token unit\">px</span><span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">font-style</span><span class=\"token punctuation\">:</span> italic<span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold<span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token selector\">.lostimg<span class=\"token punctuation\">&#123;</span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">70</span><span class=\"token unit\">%</span><span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">90</span><span class=\"token unit\">px</span><span class=\"token punctuation\">;</span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>新建 404 界面</li>\n</ul>\n<p>地址重定向的要求即在 public 目录下包含 <code>404.html</code> ，这里我们可以在根目录的 source 文件夹下新建 md 文件：</p>\n<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token front-matter-block\"><span class=\"token punctuation\">---</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token front-matter yaml language-yaml\"><span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"404！\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"我们之间已经无话可说了，所有词语的组合已经用尽，原子不再把我们组合在一起\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"404\"</span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">---</span></span></pre></td></tr></table></figure><p>保存，运行即可。</p>\n<h1 id=\"移除顶部模糊\"><a class=\"anchor\" href=\"#移除顶部模糊\">#</a> 移除顶部模糊</h1>\n<p>同时在頂部以外的地方保留模糊效果</p>\n<p>附上<a href=\"https://blog.minz.li/shokaX/ShokaX%E6%8F%92%E4%BB%B6-%E7%A7%BB%E9%99%A4%E9%A0%82%E9%83%A8%E9%9C%A7%E9%9D%A2%E6%95%88%E6%9E%9C/\">参考教程</a></p>\n<p>在 <code>shokax\\scripts</code>  下新建 <code>removeTopBlur.js</code></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo<span class=\"token punctuation\">.</span>extend<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'theme_inject'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">injects</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    injects<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">'views/removeTopBlur.styl'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>在根目录下新建 <code>views</code>  文件夹，并在其中新建 <code>removeTopBlur.styl</code></p>\n<figure class=\"highlight stylus\"><figcaption data-lang=\"stylus\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token selector\">#nav <span class=\"token punctuation\">&#123;</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token property-declaration\"><span class=\"token property\">backdrop-filter</span><span class=\"token punctuation\">:</span> <span class=\"token func\"><span class=\"token function\">saturate</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token unit\">%</span><span class=\"token punctuation\">)</span> <span class=\"token func\"><span class=\"token function\">blur</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token selector\">&amp;.show <span class=\"token punctuation\">&#123;</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token property-declaration\"><span class=\"token property\">backdrop-filter</span><span class=\"token punctuation\">:</span> <span class=\"token func\"><span class=\"token function\">saturate</span><span class=\"token punctuation\">(</span><span class=\"token number\">180</span><span class=\"token unit\">%</span><span class=\"token punctuation\">)</span> <span class=\"token func\"><span class=\"token function\">blur</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span>   </pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>完成！</p>\n<h1 id=\"cdn加速\"><a class=\"anchor\" href=\"#cdn加速\">#</a> CDN 加速</h1>\n<p>附上<a href=\"https://shoka.lostyu.me/computer-science/note/theme-shoka-doc/config/\">官方教程</a></p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">statics</span><span class=\"token punctuation\">:</span> //cdn.jsdelivr.net/gh/&lt;github用户名<span class=\"token punctuation\">></span>/&lt;仓库<span class=\"token punctuation\">></span>@latest/</pre></td></tr></table></figure><p>若 jsdelivr 被污染，则修改为：</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">statics</span><span class=\"token punctuation\">:</span> //fastly.jsdelivr.net/gh/liuxiaohanhanzi/liuxiaohanhanzi.github.io@latest/</pre></td></tr></table></figure><h1 id=\"评论区\"><a class=\"anchor\" href=\"#评论区\">#</a> 评论区</h1>\n<p>博主选择了 twikoo+vercel 部署</p>\n<p>下面是<a href=\"https://docs-hexo.shokax.top/features/comments/#twikoo\">官方教程</a></p>\n",
            "tags": [
                "博客搭建",
                "hexo",
                "shoka"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/blog-construction/ShokaX%E5%9B%BE%E7%89%87%E7%AE%A1%E7%90%86/",
            "url": "https://liuxiaohanhanzi.top/blog-construction/ShokaX%E5%9B%BE%E7%89%87%E7%AE%A1%E7%90%86/",
            "title": "ShokaX图片管理",
            "date_published": "2024-10-12T08:58:34.000Z",
            "content_html": "<h1 id=\"顶部轮播图\"><a class=\"anchor\" href=\"#顶部轮播图\">#</a> 顶部轮播图</h1>\n<h2 id=\"giteepicgo创建图床\"><a class=\"anchor\" href=\"#giteepicgo创建图床\">#</a> gitee+PicGo 创建图床</h2>\n<p>参考教程：<a href=\"https://blog.csdn.net/duleilewuhen/article/details/139478827\">图床</a></p>\n<h2 id=\"shokax图片配置\"><a class=\"anchor\" href=\"#shokax图片配置\">#</a> ShokaX 图片配置</h2>\n<p>参考教程：<a href=\"https://blog.csdn.net/F041025/article/details/136552072?ops_request_misc=%257B%2522request%255Fid%2522%253A%25228347948E-316D-4F0C-8E4B-6C33285CBDF6%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=8347948E-316D-4F0C-8E4B-6C33285CBDF6&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-136552072-null-null.142%5Ev100%5Epc_search_result_base9&amp;utm_term=shoka&amp;spm=1018.2226.3001.4187\">Shoka 图床配置</a></p>\n<h1 id=\"本地图片\"><a class=\"anchor\" href=\"#本地图片\">#</a> 本地图片</h1>\n<h2 id=\"本地文件位置\"><a class=\"anchor\" href=\"#本地文件位置\">#</a> 本地文件位置</h2>\n<p>首先，查阅 hexo 官方文档，易知 <code>post_asset_folder</code>  设置为 <code>true</code>  时，可实现新建 markdown 文件的同时新建文件夹：</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>_posts</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>├── article1/</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>├── article2/</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>├── article1.md</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>├── article2.md</pre></td></tr></table></figure><p>但是博主并不喜欢，东西太多太乱了，于是找到了大佬的插件：<a href=\"https://hunsh.net/20230806/%E5%AE%9E%E7%8E%B0-hexo-%E6%96%87%E7%AB%A0%E5%92%8C%E8%B5%84%E6%BA%90%E5%9C%A8%E5%90%8C%E4%B8%80%E7%9B%AE%E5%BD%95%E4%B8%8B/\">hexo 目录插件</a></p>\n<h2 id=\"自动生成相对位置\"><a class=\"anchor\" href=\"#自动生成相对位置\">#</a> <s class=\"danger\">自动生成相对位置</s></h2>\n<div class=\"note danger\">\n<p>本节已废弃，安装 <code>hexo-asset-dir</code>  足以解决图片插入问题。<br />\n本节操作会造成 about 页面图片渲染不出来！</p>\n</div>\n<p>在本地，博主习惯使用 Typora 编辑 md 文件。这样在插入图片时，使用的是相对 md 文件的路径。</p>\n<p>然而 <code>hexo g</code>  生成 HTML 后，文件位置会打乱，于是网页找不到图片无法渲染。</p>\n<p>这里发现很多博客提及的解决方法 <code>hexo-asset-image</code>  插件已经失效，当前解决方法是 <code>hexo-asset-img</code>  插件：<a href=\"https://github.com/yiyungent/hexo-asset-img\">hexo 图片位置插件</a></p>\n<p>由于在<a href=\"#%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE\"> 2.1</a> 节中我们对本地文件位置做了修改，这里也要对下载的插件文件进行调整：</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">var</span> hexoLog <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hexo-log'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">var</span> log <span class=\"token operator\">=</span> <span class=\"token keyword\">typeof</span> hexoLog<span class=\"token punctuation\">[</span><span class=\"token string\">\"default\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token string\">'function'</span> <span class=\"token operator\">?</span> hexoLog<span class=\"token punctuation\">[</span><span class=\"token string\">\"default\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token literal-property property\">debug</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token literal-property property\">silent</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">hexoLog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token literal-property property\">debug</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token literal-property property\">silent</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">const</span> htmlparser2 <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"htmlparser2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * md 文件返回 true</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @param &#123;*&#125; data </pre></td></tr><tr><td data-num=\"14\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">ignore</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">// TODO: 好奇怪，试了一下，md 返回 true, 但却需要忽略 取反！</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">var</span> source <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>source<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">var</span> ext <span class=\"token operator\">=</span> source<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">.</span><span class=\"token function\">lastIndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'md'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>ext<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">length</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// generate random string</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    res <span class=\"token operator\">=</span> <span class=\"token string\">''</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    letters <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'d'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'e'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'f'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'g'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'h'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'i'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'j'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'k'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'l'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'m'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'n'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'o'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'p'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'q'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'s'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'t'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'u'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'v'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'x'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'y'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'z'</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        res <span class=\"token operator\">+=</span> letters<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">return</span> res</pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">transform</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">img<span class=\"token punctuation\">,</span> fileName</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    img <span class=\"token operator\">=</span> htmlparser2<span class=\"token punctuation\">.</span><span class=\"token function\">parseDocument</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">,</span> <span class=\"token string\">\"text/html\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    src <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span>attribs<span class=\"token punctuation\">.</span>src</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    title <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span>attribs<span class=\"token punctuation\">.</span>title <span class=\"token operator\">?</span> img<span class=\"token punctuation\">.</span>attribs<span class=\"token punctuation\">.</span>title <span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    alt <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span>attribs<span class=\"token punctuation\">.</span>alt <span class=\"token operator\">?</span> img<span class=\"token punctuation\">.</span>attribs<span class=\"token punctuation\">.</span>alt <span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    style <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span>attribs<span class=\"token punctuation\">.</span>style <span class=\"token operator\">?</span> img<span class=\"token punctuation\">.</span>attribs<span class=\"token punctuation\">.</span>style <span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token comment\">// 这里对原插件的正则匹配进行了修改</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    imgFile <span class=\"token operator\">=</span> src<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token function\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".*?(.+?)$\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    className <span class=\"token operator\">=</span> <span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    imgTag <span class=\"token operator\">=</span> <span class=\"token string\">\"</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token comment\">// 原插件的路径</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token comment\">// var regExp = RegExp(\"!\\\\[(.*?)\\\\]\\\\(&lt;?\" + fileName + '/(.+?)>?\\\\)', \"g\");</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    <span class=\"token comment\">// var imgExp = RegExp(\"(&lt;img.*?src=\\\"\" + fileName + \"/.+?\\\".*?>)\", \"g\")</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token comment\">// 新路径</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token keyword\">var</span> regExp <span class=\"token operator\">=</span> <span class=\"token function\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"!\\\\[(.*?)\\\\]\\\\((.+?)\\\\)\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"g\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token keyword\">var</span> imgExp <span class=\"token operator\">=</span> <span class=\"token function\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"(&lt;img.*?src=\\\".+?\\\".*?>)\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"g\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token comment\">// hexo g</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>    data<span class=\"token punctuation\">.</span>content <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>regExp<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"g\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>    data<span class=\"token punctuation\">.</span>content <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>imgExp<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">match<span class=\"token punctuation\">,</span> img</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">return</span> <span class=\"token function\">transform</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">,</span> fileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"g\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    <span class=\"token comment\">// log.info(`hexo-asset-img: filename: $&#123;fileName&#125;, title: $&#123;data.title.trim()&#125;`);</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>    <span class=\"token comment\">// log.info(data.content)</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    <span class=\"token keyword\">return</span> data<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>hexo<span class=\"token punctuation\">.</span>extend<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">'before_post_render'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">ignore</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token function\">action</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>注意！如果渲染出现 style 问题，检查一下 <code> _config.yml</code>  中的 html 设置：</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">markdown</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">render</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 渲染器设置</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token key atrule\">html</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr></table></figure><h1 id=\"结果\"><a class=\"anchor\" href=\"#结果\">#</a> 结果</h1>\n<p>经测试，成功</p>\n<p>这样就能顺畅的处理图片啦</p>\n<p><s>踩坑了，昭昭前事，惕惕后人，de 了 2 小时 bug（泪）</s></p>\n",
            "tags": [
                "博客搭建",
                "hexo",
                "shoka"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/privacy/%E9%85%8D%E7%BD%AEgithub%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/",
            "url": "https://liuxiaohanhanzi.top/privacy/%E9%85%8D%E7%BD%AEgithub%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/",
            "title": "配置github个人主页",
            "date_published": "2024-10-10T03:45:14.000Z",
            "content_html": "<h1 id=\"起因\"><a class=\"anchor\" href=\"#起因\">#</a> 起因</h1>\n<p>博主的 github 一直处于注册了偶然用用的状态，没系统性的收拾过。这次该整理一下了。</p>\n<h1 id=\"方法\"><a class=\"anchor\" href=\"#方法\">#</a> 方法</h1>\n<h2 id=\"1-新建仓库\"><a class=\"anchor\" href=\"#1-新建仓库\">#</a> 1. 新建仓库</h2>\n<p>创建一个名称和 github 账号名一样的仓库，默认生成 <code>README.md</code></p>\n<h2 id=\"2-编辑内容\"><a class=\"anchor\" href=\"#2-编辑内容\">#</a> 2. 编辑内容</h2>\n<ul>\n<li>\n<p>前置配置</p>\n<p>博主习惯用本地的 Typora 编辑，于是先配置了 git 的 ssh：<a href=\"https://blog.csdn.net/m0_59066523/article/details/139250032\">git 教程</a></p>\n<p>然后绑定到 github：<a href=\"https://blog.csdn.net/shanguicsdn111/article/details/141819373\">github 教程</a></p>\n</li>\n<li>\n<p>拉到本地</p>\n<p>接着 clone 到本地</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> clone https://github.com/liuxiaohanhanzi/liuxiaohanhanzi.git</pre></td></tr></table></figure></li>\n<li>\n<p>修改</p>\n<img loading=\"lazy\" data-src=\"image-20241015235452218.png\" style=\"width:80%;\" />\n</li>\n<li>\n<p>查看本地与服务器差异</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> status</pre></td></tr></table></figure></li>\n<li>\n<p>添加修改</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span></pre></td></tr></table></figure><p>所有修改即被加入缓存区</p>\n</li>\n<li>\n<p>提交修改</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"完善了自我介绍\"</span></pre></td></tr></table></figure><p><code>-m</code>  后为本次提交的说明内容，这一步会保存记录到本地仓库</p>\n</li>\n<li>\n<p>推送到远程仓库</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> push origin main</pre></td></tr></table></figure><p>main 为分支名称，通常是 <code>main</code>  或 <code>master</code> ，可以通过 <code>git branch</code>  查看当前分支</p>\n</li>\n</ul>\n<h1 id=\"结果\"><a class=\"anchor\" href=\"#结果\">#</a> 结果</h1>\n<p><img loading=\"lazy\" data-src=\"image-20241015235552196.png\" alt=\"image-20241015235552196\" /></p>\n",
            "tags": [
                "个人信息",
                "github"
            ]
        }
    ]
}