{
    "version": "https://jsonfeed.org/version/1",
    "title": "跨越屏幕，幸识",
    "subtitle": "",
    "icon": "https://liuxiaohanhanzi.top/assets/favicon.ico",
    "description": "What is \"LOVE\" ?",
    "home_page_url": "https://liuxiaohanhanzi.top",
    "items": [
        {
            "id": "https://liuxiaohanhanzi.top/world-me/%E7%A5%9E%E6%98%8E%E5%9C%A8%E6%8C%87%E5%B0%96%E5%AF%84%E5%AE%BF%E7%9A%84%E7%89%87%E5%88%BB/",
            "url": "https://liuxiaohanhanzi.top/world-me/%E7%A5%9E%E6%98%8E%E5%9C%A8%E6%8C%87%E5%B0%96%E5%AF%84%E5%AE%BF%E7%9A%84%E7%89%87%E5%88%BB/",
            "title": "神明在指尖寄宿的片刻",
            "date_published": "2025-08-20T18:23:40.000Z",
            "content_html": "<p>拿不拿结婚了。</p>\n<p>因为工作繁忙，我晚了一个月才刷到。消息迟来，我当时懵了一小会，接着是惊讶、甚至近乎破防。</p>\n<p><img loading=\"lazy\" data-src=\"./AlbumCover_-5863489321753449389754.jpg\" alt=\"AlbumCover_-5863489321753449389754\" /></p>\n<p>忽然想起，今年 7 月，专辑《花と水飴、最終電車》已发售十周年</p>\n<p>原来被遗落在那个夏天的只有我。</p>\n<br>\n<p>我向来是个只推歌、不记作者的人。日推放什么，我便听什么。即使这样，我依然对旋律背后的这个拧巴男，怀揣一种难以叙说的复杂情感。</p>\n<p>我从初中时代起听他的术曲，以前玩舞萌时最喜欢鸟的谱子也是《海百合海底谭》。有点像一个素未谋面的旧友，他的音符陪我走过了我最想自杀的高中与大学岁月 —— 无论是奔赴教室时拥挤的地铁，还是深夜时淡黄孤灯下的自习桌前。</p>\n<p>我也爱听 “命嫌”，但 “命嫌” 给我的触动如疾风猝雨、火山迸发：来的猛烈，时间久了很难再有第一次听时的惊艳共鸣；我也曾循环过俄罗斯后朋，那更像是一种堕入泥潭的迷醉，一种坠落的快感。而拿不拿，失意自卑也好、泪水不甘也好，他把这些编撰成微凉的晚风、寂寥的烟花、欲言又止的少年、想要去触碰又退缩的目光…… 余韵久久，清新中裹着炽烈；电吉他、物哀青春版、以及漫无止境的夏天。</p>\n<p>听你的歌，竟然快十年了，原来我比预期中还用喜欢你的作品一点。</p>\n<p>“昼颜鸟居凤仙花”，我曾以为我和拿是一样孤独又敏感的人，从拿的曲子中窥见了世界上的另一个我。突然得知你结婚了，现在感觉怎么说呢，真心为拿祝福，又感觉莫名难受。</p>\n<p>我没法全然喜悦。我未曾预料，他已经从花水电车上下站了</p>\n<p>烟花燃尽、电车生锈、潮声落了。我长大了，夜鹿好久没出新专辑了，拿的曲子风格也不一样了 ——</p>\n<p>从最早 “不要嘲笑我的歌曲”</p>\n<p>然后是 “只是活着就足够痛苦了”、“炸毁这些时光”、“人生的一切都蠢得无可救药”，</p>\n<p>最近一年旋律逐渐爵士风，变得欢快恬淡，甚至 “楽しい楽しい”，</p>\n<p>直至今年夏初，来到那束向日葵。</p>\n<p>又是向日葵呀。我记得 ringo san 的向日葵，也喜欢茂夫的向日葵。而 n-buna 的向日葵，真的很温柔很温柔，我听着听着却有一点点想哭 ——</p>\n<p>幸せ</p>\n<p>连说 “除了摇滚都去死” 的人都能得到爱，我的这些过往又算什么</p>\n<br>\n<p>不回山里做壶了？嘘つき！</p>\n<p>那个带着几分文青病的夏日少年，终于也是长大了</p>\n<p>先生，人生相談です</p>\n<p>我的 27 岁又该怎么办才好？</p>\n",
            "tags": [
                "对世界的建模",
                "音乐",
                "n-buna"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/world-me/shayo-%E6%96%9C%E9%99%BD/",
            "url": "https://liuxiaohanhanzi.top/world-me/shayo-%E6%96%9C%E9%99%BD/",
            "title": "shayo(斜陽)",
            "date_published": "2025-08-20T16:39:59.000Z",
            "content_html": "<h1 id=\"飞天\"><a class=\"anchor\" href=\"#飞天\">#</a> 飞天</h1>\n<blockquote>\n<p>来源 B 站</p>\n</blockquote>\n<p>当万户夹杂着铁粒的火舌，被超低温氢氧的烈焰所代替。我才知道，我们早已在征途上。</p>\n<h1 id=\"哈基米\"><a class=\"anchor\" href=\"#哈基米\">#</a> 哈基米</h1>\n<blockquote>\n<p>来源知乎</p>\n</blockquote>\n<p>很多人绝对低估了猫狗在互联网的重要性。</p>\n<p>你们根本不知道，一个恨儿童、恨老人、恨同事、恨同学、恨同性、恨异性、恨人类的类人生物，如果失去了在犬科和猫科动物面前展现自己仅存且廉价同情心的机会，这对它们意味着什么。</p>\n<h1 id=\"忘了以前做什么\"><a class=\"anchor\" href=\"#忘了以前做什么\">#</a> 忘了以前做什么？</h1>\n<blockquote>\n<p>来源知乎</p>\n</blockquote>\n<p>扬州瘦马现代版</p>\n<p>南宋南明 + 预警版</p>\n<p>以后会有更多人站在朱熹 * 这边，哪怕他们不知道朱熹都说过什么，也不知道自己的观点与朱熹观点重合</p>\n<p>宋朝时期，大量权贵富豪喜欢奢靡享乐，催生出了扬州瘦马产业，有专门的培养机构，从女孩八九岁开始招募，提供食宿才艺培养，专门用来侍奉权贵富豪，堪比宋代韩国女团</p>\n<p>百姓为了赚钱，把女儿送去培养成扬州瘦马，不以为耻，反以为荣。朱熹看到这种世风日下，道德沦丧，礼崩乐坏的局面，大搞理学，提出了存天理</p>\n<p>灭人欲，娶妻纳妾，属于正常欲望，是天理，可存</p>\n<p>骄奢淫逸，社会糜烂放纵，是人欲，要灭</p>\n<p>历史惊人的巧合</p>\n<p>应对方法也只能是重新搞理学，存天理灭人欲了；坐看理学被恢复名誉，朱子被重新封圣</p>\n<p>那些主张黄色相关产业继续开放的人，可以看到扬州瘦马大行其道后，年轻女人找到了捷径，开始选择这条路线捞钱，其他女生也放弃卷学业事业，开始走捷径，男人进一步觉得女人堕落，嫌弃配偶可能是从良的，更加瓦解婚姻生育，男人看到女人可以赚快钱，反过来瞧不起自己的血汗钱，也会停止卷学业事业，跑去捞偏门，社会进一步堕落，治安恶化</p>\n<p>其实现在就有女中学生搞颜色直播的，流出大量视频，早就已经问题严重了</p>\n<p>这种事情导致的社会堕落，可不是能固定在某个程度就不会下坠的。一般情况下，礼崩乐坏会导致整个社会下坠到极限，酿出国破家亡，才会重新洗牌，重新塑造礼乐秩序，除非天降圣人，像朱子那样用重塑礼制，把社会拉回正规</p>\n<p>明末江南也在堕落中，可惜南明没有朱子，没人能重塑礼制，重新安定民心</p>\n<p>这种堕落社会在外敌面前，不堪一击，底层男人都懒得守护上层的堕落享受，宁可双输都懒得单输</p>\n<h1 id=\"鉴人\"><a class=\"anchor\" href=\"#鉴人\">#</a> 鉴人</h1>\n<blockquote>\n<p>来源知乎</p>\n</blockquote>\n<p><img loading=\"lazy\" data-src=\"./image-20250821022116418.png\" alt=\"image-20250821022116418\" /></p>\n<h1 id=\"emo\"><a class=\"anchor\" href=\"#emo\">#</a> emo</h1>\n<p>平等的歧视每一个空洞的灵魂，用无聊的抽象伪装自己</p>\n<h1 id=\"天地同力\"><a class=\"anchor\" href=\"#天地同力\">#</a> 天地同力</h1>\n<blockquote>\n<p>西汉《盐铁论》</p>\n</blockquote>\n<p>富在术数，不在劳身；利在势局，不在力耕</p>\n",
            "tags": [
                "对世界的建模",
                "诗"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/daily-tech/docker%E5%AD%A6%E4%B9%A0/",
            "url": "https://liuxiaohanhanzi.top/daily-tech/docker%E5%AD%A6%E4%B9%A0/",
            "title": "docker学习",
            "date_published": "2025-08-20T13:59:44.000Z",
            "content_html": "<hr />\n<p>TODO：日后补充狂神上课笔记</p>\n",
            "tags": [
                "技术日常",
                "docker"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/internship/poetry%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/",
            "url": "https://liuxiaohanhanzi.top/internship/poetry%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/",
            "title": "poetry命令总结",
            "date_published": "2025-07-04T16:05:22.000Z",
            "content_html": "<h1 id=\"优点\"><a class=\"anchor\" href=\"#优点\">#</a> 优点</h1>\n<p>思考这样一种情况 ——</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>pip <span class=\"token function\">install</span> A</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>pip uninstall A</pre></td></tr></table></figure><p>安装包 A 时，你会安装一大堆依赖；uninstall 后，A 删了，但是安装的一堆依赖还在</p>\n<p>于是 poetry 横空出世，这种问题迎刃而解。poetry 的优点如下：</p>\n<ul>\n<li>通过  <code>pyproject.toml</code>  声明依赖，并自动用  <code>poetry.lock</code>  锁定所有包（包括子依赖）的具体版本，这样能保证不同环境中安装一致、避免 “在我机器上能跑” 的问题</li>\n<li>集成虚拟环境管理，一口气安装、打包、发布等操作</li>\n</ul>\n<div class=\"note warning\">\n<p>Poetry 本身依赖很多包（&gt;30 个），所以在安装 Poetry 时，把它放在一个专门的虚拟环境中</p>\n</div>\n<p>官方也明确指出：<strong>Poetry 应该始终安装在专用虚拟环境中，绝不可安装到要被它管理的项目环境里</strong></p>\n<p>偷懒了，我安装在全局环境了（以后可能会有问题），后面再改：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>pip <span class=\"token function\">install</span> poetry</pre></td></tr></table></figure><h1 id=\"指令总结\"><a class=\"anchor\" href=\"#指令总结\">#</a> 指令总结</h1>\n<h2 id=\"初始化\"><a class=\"anchor\" href=\"#初始化\">#</a> 初始化</h2>\n<p>在对应文件夹下运行：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>poetry init</pre></td></tr></table></figure><p>生成 <code>pyproject.toml</code>  文件</p>\n<hr />\n<h2 id=\"虚拟环境\"><a class=\"anchor\" href=\"#虚拟环境\">#</a> 虚拟环境</h2>\n<p>Poetry 预设上（可通过 <code>poetry config</code>  修改）会强制要求依赖包都要安装在虚拟环境中，所以它整合了 <code>virtualenv</code> 。</p>\n<p>在执行 <code>poetry add、install</code>  等指令时，Poetry 都会自动检查：</p>\n<ul>\n<li>如果<strong>是</strong>虚拟环境，直接在<strong>当前</strong>虚拟环境操作。</li>\n<li>如果<strong>否</strong>，则会自动帮你创建一个新的虚拟环境，然后再安装模块</li>\n</ul>\n<p>预设所有虚拟环境创建在创建在  <code>C:\\Users\\&lt;用户名&gt;\\AppData\\Local\\pypoetry\\Cache\\virtualenvs</code>  下，可修改设置为当前工程目录内</p>\n<p>手动创建虚拟环境：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>poetry <span class=\"token function\">env</span> use python</pre></td></tr></table></figure><p>启动与退出虚拟环境须在项目根目录下：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>poetry shell  <span class=\"token comment\"># 进入</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">exit</span>  <span class=\"token comment\"># 退出</span></pre></td></tr></table></figure><hr />\n<h2 id=\"添加包\"><a class=\"anchor\" href=\"#添加包\">#</a> 添加包</h2>\n<p>添加包到工程：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>poetry <span class=\"token function\">add</span> numpy</pre></td></tr></table></figure><p>pyproject.toml 的 dependencies 条目新增 numpy 条目；<br />\n同时 <code>poetry.lock</code>  文件增加所有依赖包，lock 文件相当于 pip 的 <code>requirements.txt</code></p>\n<p>poetry add 指令会做三件事：</p>\n<ol>\n<li>更新  <code>pyproject.toml</code></li>\n<li>依照  <code>pyproject.toml</code>  的内容，更新  <code>poetry.lock</code></li>\n<li>依照  <code>poetry.lock</code>  的内容，更新虚拟环境</li>\n</ol>\n<p><code>poetry.lock</code>  的内容是取决于  <code>pyproject.toml</code>  ，但两者并不会自己连动，要基于特定指令</p>\n<p>poetry 与 pip 不同，requirements.txt 对依赖包的版本是写死的；poetry 能力强，所以能放心通过范围指定依赖包版本：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>poetry <span class=\"token function\">add</span> django@^4.2.9  <span class=\"token comment\"># 接受所有 [4.2.9, 5.0.0) 的更新</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>poetry <span class=\"token function\">add</span> django@~4.2.9  <span class=\"token comment\"># 接受所有 [4.2.9, 4.3.0) 的更新</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>poetry <span class=\"token function\">add</span> <span class=\"token string\">\"django>=4.2.9\"</span>  <span class=\"token comment\"># 无上限，注意这里使用「字符串」表示</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>poetry <span class=\"token function\">add</span> <span class=\"token assign-left variable\">django</span><span class=\"token operator\">==</span><span class=\"token number\">4.2</span>.9  <span class=\"token comment\"># 锁死，但也浪飞了 poetry 的管理能力</span></pre></td></tr></table></figure><p>无上限容易引入<strong> breaking change</strong>，即重大变更<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>4.</mn><mi>x</mi><mi mathvariant=\"normal\">.</mi><mi>x</mi><mo>−</mo><mo>&gt;</mo><mn>5.</mn><mi>x</mi><mi mathvariant=\"normal\">.</mi><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(4.x.x -&gt; 5.x.x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">4.</span><span class=\"mord mathnormal\">x</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">x</span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">5.</span><span class=\"mord mathnormal\">x</span><span class=\"mord\">.</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span>，不建议</p>\n<hr />\n<h2 id=\"更新挂钩\"><a class=\"anchor\" href=\"#更新挂钩\">#</a> 更新挂钩</h2>\n<p>如若手动修改 <code>pyproject.toml</code>  的内容，比如变更某模块的版本，lock 和 toml 脱钩了</p>\n<p>lock 要依照 toml 更新：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>poetry lock</pre></td></tr></table></figure><p>虚拟环境要根据 lock 更新：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>poetry <span class=\"token function\">install</span></pre></td></tr></table></figure><hr />\n<h2 id=\"区分开发环境\"><a class=\"anchor\" href=\"#区分开发环境\">#</a> 区分开发环境</h2>\n<p>不赘述，我不常用，仅列出参考：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>poetry <span class=\"token function\">add</span> black <span class=\"token parameter variable\">--dev</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># 或</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>poetry <span class=\"token function\">add</span> black <span class=\"token parameter variable\">-D</span></pre></td></tr></table></figure><hr />\n<h2 id=\"更新包\"><a class=\"anchor\" href=\"#更新包\">#</a> 更新包</h2>\n<blockquote>\n<p>注，更新操作会被 add 时指定的版本范围约束，如要为了打破约束，请重新 add</p>\n</blockquote>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>poetry update  <span class=\"token comment\"># 全部</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>poetry update requests toml  <span class=\"token comment\"># 只更新这俩包</span></pre></td></tr></table></figure><hr />\n<h2 id=\"列出全部\"><a class=\"anchor\" href=\"#列出全部\">#</a> 列出全部</h2>\n<p>类似 <code>pip list</code></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>poetry show</pre></td></tr></table></figure><div class=\"note info\">\n<p>这里的清单内容并不是来自于虚拟环境，而是来自于  <code>poetry.lock</code>  的内容。</p>\n</div>\n<p>树状显示依赖 **（最有用的一集）**：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>poetry show <span class=\"token parameter variable\">--tree</span>  <span class=\"token comment\"># 全部</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>poetry show numpy <span class=\"token parameter variable\">--tree</span>  <span class=\"token comment\"># 指定包</span></pre></td></tr></table></figure><hr />\n<h2 id=\"移除包\"><a class=\"anchor\" href=\"#移除包\">#</a> 移除包</h2>\n<p>使用  <code>poetry remove</code>  指令。和  <code>poetry add</code>  一样，可以加上  <code>-D</code>  参数来移除置于开发区的模块。</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>poetry remove flask</pre></td></tr></table></figure><hr />\n<h2 id=\"输出requirementstxt\"><a class=\"anchor\" href=\"#输出requirementstxt\">#</a> 输出 requirements.txt</h2>\n<blockquote>\n<p><code>2025/05/24</code> ：在 Poetry 2.0 以後， <code>export</code>  指令需要<a href=\"https://github.com/python-poetry/poetry-plugin-export\">額外安裝</a>才行，具體可參考<a href=\"https://python-poetry.org/docs/cli/\">官方文件</a>。</p>\n</blockquote>\n<p>若要 docker+poetry，启动容器后需要先安装 Poetry 到全域，或打包一个带有 Poetry 的 image，两者都会<strong>增加新的耦合与依赖</strong> ，需要更细致的管理（但 multi-stage build 可以解决这个问题）</p>\n<p>所以不推荐在 docker 中使用 poetry，我们此时需要 requirements.txt（根据  <code>poetry.lock</code>  的内容，输出一份  <code>requirements.txt</code>  档案）：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>poetry <span class=\"token builtin class-name\">export</span> <span class=\"token parameter variable\">-f</span> requirements.txt <span class=\"token parameter variable\">-o</span> requirements.txt --without-hashes  <span class=\"token comment\"># 去除预设的 hash 值</span></pre></td></tr></table></figure>",
            "tags": [
                "实习",
                "poetry"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/quant/technical/%E7%82%92%E8%82%A1%E5%AE%9E%E6%93%8D%E6%94%B6%E8%8E%B7/",
            "url": "https://liuxiaohanhanzi.top/quant/technical/%E7%82%92%E8%82%A1%E5%AE%9E%E6%93%8D%E6%94%B6%E8%8E%B7/",
            "title": "炒股实操收获",
            "date_published": "2025-05-21T05:59:40.000Z",
            "content_html": "<h1 id=\"股票所属板块在哪看板块情况怎么看\"><a class=\"anchor\" href=\"#股票所属板块在哪看板块情况怎么看\">#</a> 股票所属板块在哪看？板块情况怎么看？</h1>\n<p>在同花顺指数中，同花顺自己编制了各个板块，结构如下 ——</p>\n<ul>\n<li>同花顺指数\n<ul>\n<li>同花顺概念</li>\n<li>同花顺行业</li>\n<li>同花顺地域（实用性弱一些）</li>\n</ul>\n</li>\n</ul>\n<p>板块主要用来看涨跌幅和资金净流入量</p>\n<h1 id=\"当日不及预期次日处理方式\"><a class=\"anchor\" href=\"#当日不及预期次日处理方式\">#</a> 当日不及预期，次日处理方式</h1>\n<ol>\n<li>指数</li>\n<li>板块</li>\n<li><strong>开盘三根交割单！！下杀第一时间跑，早跑！！！</strong></li>\n<li>绝对龙头，中期（4-7 板）可以等等</li>\n</ol>\n<hr />\n<p>todo：未完待续</p>\n",
            "tags": [
                "量化",
                "技术面",
                "金融"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/internship/%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80/",
            "url": "https://liuxiaohanhanzi.top/internship/%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80/",
            "title": "数理基础",
            "date_published": "2025-05-04T10:49:28.000Z",
            "content_html": "<h1 id=\"平稳时间序列\"><a class=\"anchor\" href=\"#平稳时间序列\">#</a> 平稳时间序列</h1>\n<h2 id=\"为什么要平稳性\"><a class=\"anchor\" href=\"#为什么要平稳性\">#</a> 为什么要平稳性？</h2>\n<ul>\n<li>\n<p><code>时间序列数据</code> 与 <code>传统统计数据</code> 结构不同。最大的区别在于，传统随机变量可以得到同一分布的多个观测值（比如骰子点数，可以反复掷得到多个观测值，忽略时间的差异）。而时间序列数据中，每个随机变量只有一个观测值（比如设收盘价为研究的随机变量，每天只有一个收盘价，不同日子的价格服从的分布不同，即考虑时间的差异）。这样一来，每个分布只能得到一个观测值，数目太少，无法研究分布的性质。但是通过平稳性，从不同日期的分布之间发现内在关联，缓解了由于样本容量少导致的估计精度低的问题。</p>\n</li>\n<li>\n<p>研究时间序列的最终目的是，预测未来。但是未来是不可知的，我们拥有的数据都是历史，因此只能用历史数据来预测未来。但是，如果过去的数据与未来的数据没有某种 “相似度”，那这种预测就毫无道理了。平稳性就是保证这种过去与未来的相似性，如果数据是平稳的，那么可以认为过去的数据表现出的某些性质，未来也会表现</p>\n</li>\n</ul>\n<h2 id=\"基础定义\"><a class=\"anchor\" href=\"#基础定义\">#</a> 基础定义</h2>\n<p>想象你每天记录同一河流的某位置水流量变化。如果满足以下条件，就是平稳的时间序列：</p>\n<ol>\n<li>\n<p><strong>均值稳定</strong><br />\n无论上午还是下午测量，水量的平均值保持不变。<br />\n<em>数学表达</em>：E (Xₜ) = μ（对所有时刻 t，均值相同）</p>\n</li>\n<li>\n<p><strong>方差稳定</strong><br />\n水量波动的幅度不随时间改变。<br />\n<em>数学表达</em>：Var (Xₜ) = σ²（方差恒定）</p>\n</li>\n<li>\n<p><strong>协方差只与时间间隔有关</strong><br />\n今天 10 点和 11 点的水量关系，与明天 10 点和 11 点的关系一致。<br />\n<em>数学表达</em>：Cov (Xₜ, Xₜ₊ₖ) = γₖ（只与间隔 k 有关，与具体时间 t 无关）</p>\n</li>\n</ol>\n<h2 id=\"严平稳和宽平稳什么区别\"><a class=\"anchor\" href=\"#严平稳和宽平稳什么区别\">#</a> 严平稳和宽平稳什么区别？</h2>\n<ol>\n<li><strong>严平稳（Strict Stationarity）</strong>\n<ul>\n<li>定义：时间平移后，任意等长的多维向量，其联合分布相同，即所有统计性质（如分布形状）完全不变。</li>\n<li>例子：抛骰子的序列，无论何时截取一段，结果分布都相同。</li>\n<li>缺点：条件太严格，实际中难以验证。</li>\n</ul>\n</li>\n<li><strong>宽平稳（Weak Stationarity）</strong>\n<ul>\n<li>定义：只需满足均值、方差、协方差稳定（不要求分布完全相同）。</li>\n<li>例子：股票收益率序列，长期看波动结构稳定。</li>\n<li>实际应用：统计建模常用宽平稳，条件更易满足。</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"随机游走为什么不稳定\"><a class=\"anchor\" href=\"#随机游走为什么不稳定\">#</a> 随机游走为什么不稳定？</h2>\n<p>假设初始位置为 0，每个时间点的位置为：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>X</mi><mi>t</mi><mo>=</mo><msub><mi>X</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>ϵ</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">Xt=X_{t−1}+ϵ_t\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">Xt</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8917em;vertical-align:-0.2083em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>其中，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>ϵ</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">ϵ_t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 是白噪声（均值为 0，方差固定为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>σ</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">σ^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span>，且前后不相关）。<br />\n每一步的位置都是前一步位置加上一个随机扰动，这就是随机游走。</p>\n<p>尽管其数学期望稳定，但方差不稳定（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mi>a</mi><mi>r</mi><mo stretchy=\"false\">(</mo><msub><mi>X</mi><mi>t</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mi>t</mi><msup><mi>σ</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">Var(X_t)=t\\sigma^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">Va</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span>）</p>\n<blockquote>\n<p>如果模型的特征方程根为 1（即 “单位根”），会导致序列具有 <strong>长期记忆性</strong>：任何随机扰动（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>ϵ</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">ϵ_t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>）都会永久影响后续所有时刻的值，序列会逐渐偏离初始位置（非平稳）。</p>\n</blockquote>\n<h2 id=\"差分有什么用\"><a class=\"anchor\" href=\"#差分有什么用\">#</a> 差分有什么用？</h2>\n<p>差分，即计算当前值与前一时刻的差值</p>\n<p>它能消除序列中的趋势或周期性。例如，股价本身非平稳，但每日涨跌幅（差分）通常是平稳的。</p>\n<p>数学上，差分能消除单位根，将非平稳的累积过程（如随机游走）转化为平稳的白噪声。</p>\n<p>操作时，可以多次差分，也可以先取对数再差分。</p>\n<h1 id=\"矩阵有效值分解\"><a class=\"anchor\" href=\"#矩阵有效值分解\">#</a> 矩阵有效值分解</h1>\n<blockquote>\n<p><a href=\"https://www.cnblogs.com/tianqizhi/p/9745913.html\">参考博客</a></p>\n</blockquote>\n<p>假设我们先对方阵进行了去中心化，即每条序列都减去自己的均值，保证零均值，得到<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span></p>\n<h2 id=\"svd\"><a class=\"anchor\" href=\"#svd\">#</a> SVD</h2>\n<p>对中心化后的 X 做分解：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>X</mi><mo>=</mo><mi>U</mi><mi mathvariant=\"normal\">Σ</mi><msup><mi>V</mi><mi>T</mi></msup></mrow><annotation encoding=\"application/x-tex\">X=UΣV^T\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8913em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mord\">Σ</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>其中<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Σ</mi></mrow><annotation encoding=\"application/x-tex\">\\Sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">Σ</span></span></span></span> 对角线上的每个奇异值<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>σ</mi></mrow><annotation encoding=\"application/x-tex\">\\sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span></span></span></span> 就是特征成分的重要程度</p>\n<p>其值越大，就说明对应的方向（在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi></mrow><annotation encoding=\"application/x-tex\">V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span></span></span></span> 的列向量里）对数据的 “能量”（方差）贡献越多</p>\n<h2 id=\"pca\"><a class=\"anchor\" href=\"#pca\">#</a> PCA</h2>\n<p>PCA 本质上是在看协方差矩阵：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>C</mi><mo>=</mo><mfrac><mn>1</mn><mrow><mi>T</mi><mo>−</mo><mn>1</mn></mrow></mfrac><msup><mi>X</mi><mi>T</mi></msup><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">C=\\dfrac{1}{T-1}X^TX\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.0908em;vertical-align:-0.7693em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3214em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">1</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7693em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span></span></p>\n<p>然后对协方差矩阵进行特征分解，找到特征值<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>λ</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\lambda_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">λ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 以及特征向量<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">v_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>，那其实 SVD 的奇异值平方后、再除以 T-1，就成了 PCA 的特征值，每个特征向量也和 SVD 中 V 的列对应</p>\n<blockquote>\n<p>在数据科学中，方差大 = 数据所包含信息量大</p>\n</blockquote>\n<h2 id=\"相关系数\"><a class=\"anchor\" href=\"#相关系数\">#</a> 相关系数</h2>\n<p>如果你把每条序列再除以自己的标准差（变成单位方差），<br />\n那求 PCA 过程中所用的协方差矩阵，就变成了 “相关系数矩阵”<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>。<br />\n对 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> 做特征分解，得到<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>λ</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\lambda_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">λ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>（特征值）表示对应主成分解释了多少相关性。</p>\n<h2 id=\"有效秩\"><a class=\"anchor\" href=\"#有效秩\">#</a> 有效秩</h2>\n<p>对<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msub><mi>σ</mi><mi>i</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{\\sigma_i\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> 或<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msub><mi>λ</mi><mi>i</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{\\lambda_i\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">λ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> 计算其分布情况 ——</p>\n<ul>\n<li>\n<p>先计算概率归一化：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub><mo>=</mo><mfrac><msub><mi>σ</mi><mi>i</mi></msub><mrow><munder><mo>∑</mo><mi>j</mi></munder><msub><mi>σ</mi><mi>j</mi></msub></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">p_i=\\dfrac{σ_i}{∑_jσ_j}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.2294em;vertical-align:-1.1218em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1076em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.162em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1218em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n</li>\n<li>\n<p>计算熵</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>H</mi><mo>=</mo><mo>−</mo><munder><mo>∑</mo><mi>i</mi></munder><mi>p</mi><mtext> </mtext><mi>l</mi><mi>n</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">H=-∑\\limits_{i}p\\:lnp_i\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.3277em;vertical-align:-1.2777em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.05em;\"><span style=\"top:-1.8723em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span style=\"top:-3.05em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">∑</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2777em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">n</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n</li>\n<li>\n<p>取指数</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>EffRank</mtext><mo>=</mo><msup><mi>e</mi><mi>H</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\text{EffRank}=e^H\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord text\"><span class=\"mord\">EffRank</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8913em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.08125em;\">H</span></span></span></span></span></span></span></span></span></span></span></span></p>\n</li>\n</ul>\n<ol>\n<li>\n<p>分布平坦，方差越均匀分散，信息熵大，有效秩就大</p>\n</li>\n<li>\n<p>分布几个峰，方差越集中，信息熵小，有效秩就小</p>\n</li>\n</ol>\n",
            "tags": [
                "实习",
                "数理统计"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/internship/%E6%95%B0%E5%AD%97%E8%B4%A7%E5%B8%81%E5%88%9D%E7%AA%A5/",
            "url": "https://liuxiaohanhanzi.top/internship/%E6%95%B0%E5%AD%97%E8%B4%A7%E5%B8%81%E5%88%9D%E7%AA%A5/",
            "title": "数字货币初窥",
            "date_published": "2025-04-10T06:25:54.000Z",
            "content_html": "<h1 id=\"永续合约币币等等东西都是什么\"><a class=\"anchor\" href=\"#永续合约币币等等东西都是什么\">#</a> 永续合约，币币等等东西都是什么？</h1>\n<h2 id=\"币币交易现货交易\"><a class=\"anchor\" href=\"#币币交易现货交易\">#</a> <strong>币币交易（现货交易）</strong></h2>\n<ul>\n<li><strong>是什么</strong>：直接用一种币买另一种币（比如用 USDT 买比特币）。</li>\n<li><strong>特点</strong>：\n<ul>\n<li><strong>现货交易</strong>：一手交钱，一手拿货，就像在菜市场买菜，钱和菜当场交换。</li>\n<li><strong>无杠杆</strong>：你花多少钱就买多少币，亏赚都按实际金额算。</li>\n<li><strong>无期限</strong>：买了币可以一直拿着，想什么时候卖都行。</li>\n</ul>\n</li>\n<li><strong>例子</strong>：你用 100 元买苹果，当场拿走苹果，苹果涨到 120 元时卖掉，赚 20 元。</li>\n</ul>\n<hr />\n<h2 id=\"交割合约期货合约\"><a class=\"anchor\" href=\"#交割合约期货合约\">#</a> <strong>交割合约（期货合约）</strong></h2>\n<ul>\n<li><strong>是什么</strong>：约定未来某个时间以某个价格买卖币的合同。</li>\n<li><strong>特点</strong>：\n<ul>\n<li><strong>有到期日</strong>：比如约定 “下个月 1 号以 1 万刀买 1 个比特币”。</li>\n<li><strong>杠杆</strong>：可以押小钱玩大钱（比如 10 倍杠杆，100 元当 1000 元用）。</li>\n<li><strong>到期必须结算</strong>：要么提前卖掉合同（平仓），要么到期按约定价交割。</li>\n</ul>\n</li>\n<li><strong>例子</strong>：你和果农签合同，约定 1 个月后以 10 元 / 斤买 100 斤苹果，押金 100 元（10 倍杠杆）。到期时：\n<ul>\n<li>如果苹果涨到 15 元，你赚（15-10）×100 斤 = 500 元（用 100 元押金赚 5 倍）。</li>\n<li>如果跌到 5 元，你亏 500 元，押金全没（爆仓）。</li>\n</ul>\n</li>\n</ul>\n<hr />\n<h2 id=\"永续合约\"><a class=\"anchor\" href=\"#永续合约\">#</a> <strong>永续合约</strong></h2>\n<ul>\n<li><strong>是什么</strong>：类似交割合约，但<strong>没有到期日</strong>，可以一直持有。</li>\n<li><strong>特点</strong>：\n<ul>\n<li><strong>无限期</strong>：不用操心到期时间，想拿多久都行。</li>\n<li><strong>资金费率</strong>：每隔一段时间（比如 8 小时），多空双方互相支付费用，用来让合约价格和现货价格保持一致。</li>\n<li><strong>杠杆更高</strong>：通常杠杆倍数比交割合约更高（比如 100 倍）。</li>\n</ul>\n</li>\n<li><strong>例子</strong>：还是和果农签合同买苹果，但合同没有截止日期。每天根据市场价调整合同价格，如果苹果涨价，你每天赚一点；如果跌价，亏一点。但每隔一段时间，你要给果农（或果农给你）一点 “手续费”，保证合同价格贴近实际苹果价格。</li>\n</ul>\n<hr />\n<h2 id=\"期权\"><a class=\"anchor\" href=\"#期权\">#</a> <strong>期权</strong></h2>\n<ul>\n<li><strong>是什么</strong>：买一个 “未来买卖的权利”（不是义务）。</li>\n<li><strong>特点</strong>：\n<ul>\n<li><strong>权利 vs 义务</strong>：买方有权选择是否执行，卖方必须配合。</li>\n<li><strong>支付权利金</strong>：买方先付一笔钱（权利金），亏了最多亏这点钱，赚了可能翻倍。</li>\n<li><strong>到期日</strong>：权利只在特定时间内有效。</li>\n</ul>\n</li>\n<li><strong>例子</strong>：\n<ul>\n<li><strong>看涨期权</strong>：你花 10 元买个权利，约定 1 个月后以 100 元买苹果。如果到期苹果涨到 150 元，你可以用 100 元买下，转手卖 150 元，净赚 40 元（150-100-10）。如果苹果跌到 80 元，你直接放弃权利，只亏 10 元。</li>\n<li><strong>看跌期权</strong>：你花 10 元买个权利，约定 1 个月后以 100 元卖苹果。如果苹果跌到 50 元，你可以用 50 元买苹果，再以 100 元卖给对方，净赚 40 元（100-50-10）。</li>\n</ul>\n</li>\n</ul>\n<hr />\n<h2 id=\"总结\"><a class=\"anchor\" href=\"#总结\">#</a> <strong>总结</strong></h2>\n<ul>\n<li><strong>币币交易</strong>：直接买卖现货，无杠杆，无期限。</li>\n<li><strong>交割合约</strong>：赌未来价格，有到期日，杠杆高，到期必须结算。</li>\n<li><strong>永续合约</strong>：赌未来价格，无到期日，靠 “资金费率” 维持价格。</li>\n<li><strong>期权</strong>：买的是 “选择权”，亏有限（权利金），赚可能无限。</li>\n</ul>\n<h1 id=\"币本位和u本位\"><a class=\"anchor\" href=\"#币本位和u本位\">#</a> 币本位和 U 本位</h1>\n<p>币本位因为持币，所以多一倍看多杠杆（来源于保证金）</p>\n<p>U 本位和币本位，主要在涉及保证金的交易中</p>\n<ul>\n<li>以 / USDT 结尾或 / USDC 结尾即 U 本位</li>\n<li>以 / USD 结尾为币本位</li>\n</ul>\n<h1 id=\"标的名称\"><a class=\"anchor\" href=\"#标的名称\">#</a> 标的名称</h1>\n<ul>\n<li>\n<p>spot（币币）与 margin（杠杆）：形如 BTC/USDT</p>\n</li>\n<li>\n<p>future（交割合约）：形如 BTC/USD:BTC-250418，</p>\n</li>\n<li>\n<p>swap（永续合约）：形如 BTC/USD:BTC</p>\n</li>\n<li>\n<p>option（期权） ：形如 BTC/USD:BTC-250417-72000-C</p>\n</li>\n</ul>\n<h1 id=\"高频相比低频更偏数据工程是吗\"><a class=\"anchor\" href=\"#高频相比低频更偏数据工程是吗\">#</a> 高频相比低频更偏数据工程是吗？</h1>\n<p>其实就是高频数据更多更全， 所以 work 不 work 直接跑就知道；中低频的话，数据更少，验证次数没那么全，所以要讲逻辑</p>\n",
            "tags": [
                "实习",
                "数字货币"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/LLM/LLM%E6%8E%A8%E7%90%86%E5%8A%A0%E9%80%9F/",
            "url": "https://liuxiaohanhanzi.top/LLM/LLM%E6%8E%A8%E7%90%86%E5%8A%A0%E9%80%9F/",
            "title": "LLM推理加速",
            "date_published": "2025-03-25T10:38:30.000Z",
            "content_html": "<h1 id=\"gpu内存概论\"><a class=\"anchor\" href=\"#gpu内存概论\">#</a> GPU 内存概论</h1>\n<blockquote>\n<p><a href=\"https://www.bilibili.com/video/BV1rH4y1c7Zs/?share_source=copy_web&amp;vd_source=f0a4a59c7013e34588e9395814ec45a9\">参考视频</a></p>\n</blockquote>\n<img loading=\"lazy\" data-src=\"./image-20250619151517330.png\" alt=\"image-20250619151517330\" width=\"75%\" />\n<p>如上图，DRAM 用于电脑内存；HBM 用于芯片外显卡显存；SRAM 用于 GPU 芯片内，如 L1 Cache、L2 Cache；</p>\n<p>GPU 内有大量 Core 和 thread，使用 SIMT（单一指令，多线程执行）技术，比如矩阵乘法里结果里的每个元素可以分配一个线程。32 个线程一组，叫做一个 Warp。Warp 是 GPU 里调度任务的最小单元。</p>\n<p>GPU 由大量的块组成，每个块称作一个 SM（流式处理器），一个 SM 结构如下：</p>\n<p><img loading=\"lazy\" data-src=\"./image-20250619163916030.png\" alt=\"image-20250619163916030\" /></p>\n<p>由于显存传输相对慢，计算单元更快更空闲，因此我们希望减少 GPU 空闲 ——<br />\n 因为矩阵乘法的计算时间复杂度为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>N</mi><mn>3</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(N^3)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>，空间复杂度为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(N^2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></p>\n<p>所以切分矩阵维度即可：</p>\n<ul>\n<li>数据传输的慢，用大矩阵</li>\n<li>数据传输快，用小矩阵</li>\n</ul>\n<blockquote>\n<p><em>但是如果传输慢、矩阵还小，就没辙了</em></p>\n</blockquote>\n<hr />\n<p>回到大模型加速，根据论文《A Survey on Efficient Inference for Large Language Models》，我做了如下总结。</p>\n<p>LLM 推理的三大成本：</p>\n<ul>\n<li>计算成本</li>\n<li>内存访问成本</li>\n<li>内存占用成本</li>\n</ul>\n<p>对大模型的推理加速流派做一个总结，分类如下图：</p>\n<p><img loading=\"lazy\" data-src=\"./framework.png\" alt=\"framework\" /></p>\n<h1 id=\"数据层优化\"><a class=\"anchor\" href=\"#数据层优化\">#</a> 数据层优化</h1>\n<h2 id=\"输入压缩技术\"><a class=\"anchor\" href=\"#输入压缩技术\">#</a> 输入压缩技术</h2>\n<p><strong>提示词剪枝</strong>：即去除提示词里的废话，保留有用信息</p>\n<p><strong>提示词总结</strong>：对很长的提示词（整篇 word）概括一个 summary，以此作为提示词的浓缩交给模型</p>\n<p><strong>软提示词</strong>：在输入文本前加入一些向量，这些向量可以激活大模型某一方面的知识，然后得到更好的效果。软提示词是可训练迭代的向量，先冻结大模型的参数，推理微调，更新软提示词；不断循环直到软提示词效果不错，不改了 —— 最后推理就是最终结果；一次训练，多次推理。</p>\n<p><strong>检索增强生成</strong>（RAG）：也就是所谓的大模型联网。通过检索和输入相关的辅助内容，并只将这些相关的内容加入到输入提示词中，来降低原本的输入长度（相比于加入所有辅助内容）</p>\n<h2 id=\"输出规划技术\"><a class=\"anchor\" href=\"#输出规划技术\">#</a> 输出规划技术</h2>\n<p>规划输出内容，尽量并行生成某些部分的，以此优化推理延时。比如思维骨架方法（SoT），最终回复依总分结构并行生成，如下图：</p>\n<p><img loading=\"lazy\" data-src=\"./sot_demo.png\" alt=\"sot_demo\" /></p>\n<h1 id=\"模型层优化\"><a class=\"anchor\" href=\"#模型层优化\">#</a> 模型层优化</h1>\n<h2 id=\"高效结构设计改变模型\"><a class=\"anchor\" href=\"#高效结构设计改变模型\">#</a> 高效结构设计（改变模型）</h2>\n<ul>\n<li>\n<p>改造 FFN：比如 MOE 技术，还有 deepseek 搞的更多专家激活、共享基础知识的 MOE</p>\n</li>\n<li>\n<p>改造 MHA：</p>\n<ul>\n<li>共享 KV 的 多询问注意力技术（Multi-Query）</li>\n<li>核函数算子替换 softmax，就是换一种激活方式，把碍事贼拉慢的 softmax 换掉，从<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>N</mi><mn>2</mn></msup><mi>d</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(N^2d)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\">d</span><span class=\"mclose\">)</span></span></span></span> 变成<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>N</mi><mi>d</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(Nd)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord mathnormal\">d</span><span class=\"mclose\">)</span></span></span></span></li>\n<li>低秩算子，如 Linformer（每个 token 的钥匙不变，把 KV 信息量维度压缩，比如压缩为 128 个锁 &amp; 对应信息），于是获得线性复杂度<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>N</mi><mi>r</mi><mi>d</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(Nrd)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">d</span><span class=\"mclose\">)</span></span></span></span>；</li>\n</ul>\n</li>\n<li>\n<p>寻找线性架构替代 Transformer</p>\n</li>\n</ul>\n<h2 id=\"模型压缩简化模型\"><a class=\"anchor\" href=\"#模型压缩简化模型\">#</a> 模型压缩（简化模型）</h2>\n<h3 id=\"量化\"><a class=\"anchor\" href=\"#量化\">#</a> 量化</h3>\n<p>量化就是通过 scaling 或者 bias，将模型参数与输入激活值，从 fp32、fp16 转化为 int8，加速计算与内存 IO；量化可分为 ——</p>\n<ol>\n<li>训练后量化</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250619151020209.png\" alt=\"image-20250619151020209\" /></p>\n<ol start=\"2\">\n<li>训练感知量化</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250619150940815.png\" alt=\"image-20250619150940815\" /></p>\n<h3 id=\"模型稀疏\"><a class=\"anchor\" href=\"#模型稀疏\">#</a> 模型稀疏</h3>\n<ol>\n<li>权重稀疏</li>\n</ol>\n<p>又称作权值剪枝，即从模型中去除不太关键的权值和结构。这种稀疏化方法分为两种主要类型：非结构化修剪和结构化修剪。非结构化剪的细、预测影响小，但是不规则，会阻碍硬件加速能力；结构化一剪剪一个 channel/layer/group；后者更有用</p>\n<p><img loading=\"lazy\" data-src=\"./pruning.png\" alt=\"pruning\" /></p>\n<ol start=\"2\">\n<li>注意力稀疏</li>\n</ol>\n<p>就是注意力信息不把整个句子全算，只算一部分。比如对每个 token，算他 &lt;邻近的&gt;+&lt; 全局头部 &gt;+&lt; 随机 &gt;</p>\n<p><img loading=\"lazy\" data-src=\"./sparse_attention.jpg\" alt=\"sparse_attention\" /></p>\n<h3 id=\"结构优化\"><a class=\"anchor\" href=\"#结构优化\">#</a> 结构优化</h3>\n<ul>\n<li>神经网络架构搜索</li>\n</ul>\n<p>先定义好 “候选网络” 的积木组件 —— 例如可以有哪些层（卷积、池化、激活等）、每层能选的超参数、网络层之间怎么连接；然后让机器自己探索，选出最优架构。对于大模型不太能用，因为探索时要试错，要训练，cost 太大</p>\n<ul>\n<li>低秩分解（如 LoRA）</li>\n</ul>\n<p>把一个大的权重矩阵分解成两个小矩阵相乘，降低 LLM 的权重的存储开销和访存开销，从<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(N^2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 变为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>N</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span></p>\n<h3 id=\"知识蒸馏\"><a class=\"anchor\" href=\"#知识蒸馏\">#</a> 知识蒸馏</h3>\n<p>用一个大模型（教师模型）来辅助训练一个小模型（学生模型），从而将大模型的知识传递给小模型，通过小模型更小的开销达到相似的精度效果。</p>\n<ul>\n<li>白盒：可以获得教师模型的架构和权重，利用更多信息（特征、输出概率等）训练学生模型</li>\n<li>黑盒：只能获取输出，所以需要构造数据训练学生模型</li>\n</ul>\n<h3 id=\"动态推理条件计算\"><a class=\"anchor\" href=\"#动态推理条件计算\">#</a> 动态推理（条件计算）</h3>\n<p>在模型中插入 “小判断器”（Router、Gate 或者 Early Exit Module），负责评估当前数据是否 “简单” 或 “困难”，并决定 “是否跳过后面层 / 通道”，或提前输出结果。</p>\n<p>例如，模型做完某层后，判断 “我确定预测为猫？”，如果信心够高，就可以直接输出，无需继续深层计算。</p>\n<h1 id=\"系统层优化\"><a class=\"anchor\" href=\"#系统层优化\">#</a> 系统层优化</h1>\n<h2 id=\"推理引擎\"><a class=\"anchor\" href=\"#推理引擎\">#</a> 推理引擎</h2>\n<ul>\n<li>图和算子优化</li>\n</ul>\n<p>翻译的太怪了…… 还有算子这个翻译，明明意思就是 “一个计算步骤”，无力吐槽</p>\n<ol>\n<li>\n<p>所谓图优化，其实就是着眼于多个算子组合在一起的整个计算流程，进行流程重构与优化，比如</p>\n<ul>\n<li>\n<p>“把  <code>Conv + ReLU</code>  合并为一个高效运算，消除重复计算”</p>\n</li>\n<li>\n<p>“把  <code>MatMul + Transpose</code>  换成支持转置的  <code>MatMul</code> ”，多步合成一步</p>\n</li>\n</ul>\n</li>\n<li>\n<p>算子优化就是优化一个计算操作（著名代表 FlashAttention ），比如</p>\n<ul>\n<li>\n<p>对  <code>MatMul</code> 、 <code>Conv</code> 、 <code>Softmax</code>  等算子，使用硬件平台（如 NVIDIA、Intel、ARM）的<strong>底层高效版本</strong></p>\n</li>\n<li>\n<p>在一个 kernel 中串行执行多个操作，减少中间数据读写</p>\n</li>\n<li>\n<p>矩阵分块（tiling），减少显存 IO</p>\n</li>\n</ul>\n</li>\n</ol>\n<ul>\n<li>推测解码</li>\n</ul>\n<p>使用一个便宜的小模型（被称为草稿模型）来预测未来的若干个词块，再用大模型并行地验证这些词块是否准确。</p>\n<h2 id=\"服务系统\"><a class=\"anchor\" href=\"#服务系统\">#</a> 服务系统</h2>\n<p>就是硬件相关加速技术，看不懂了…… 很底层</p>\n",
            "tags": [
                "LLM",
                "大模型"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/quant/technical/%E6%8A%80%E6%9C%AF%E9%9D%A2%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%89%EF%BC%89/",
            "url": "https://liuxiaohanhanzi.top/quant/technical/%E6%8A%80%E6%9C%AF%E9%9D%A2%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%89%EF%BC%89/",
            "title": "技术面学习（三）",
            "date_published": "2025-03-04T15:45:10.000Z",
            "content_html": "<blockquote>\n<p><a href=\"https://www.bilibili.com/video/BV1mwLqz6EkX/?share_source=copy_web&amp;vd_source=f0a4a59c7013e34588e9395814ec45a9\">视频教程</a></p>\n</blockquote>\n<p>炒股真正的三步骤：</p>\n<ol>\n<li>\n<p>交易纪律和执行力</p>\n<p><strong>这是基础，这是必须的。</strong></p>\n<p>先拿小资金如 2w，去随意买卖，无所谓盈利，直到你在买卖间做抉择时，丝毫无压抑，丝毫无心理障碍，该割就割该买就买，这才是有了一定交易记录和执行力。这一阶段不能用模拟盘。</p>\n</li>\n<li>\n<p>寻找自己的交易模式</p>\n<p>学别人的没用，学不了 —— 因为每个人的性格、习惯、喜爱、风险偏好均不一样。在有执行力的情况下，去试各种模式。不喜欢不习惯就换一个，直到你在单一模式下，单月成功率达到 50%；</p>\n</li>\n<li>\n<p>去除无效交易，修建自己</p>\n<p>达到第二点后，就把这个月交割单理出来，一一仔细分析为什么成功、为什么亏，去反省自我认知。然后把那些亏的无效交易去除掉。这是一个痛苦的过程，很难做到。</p>\n<p>直到你能把无效交易去除掉、或者说大部分去除掉；直到你感觉，做交易很无趣，此时在考虑控制回撤，在有进攻力的前提下，再谈控制回撤。</p>\n</li>\n</ol>\n<p>这是一个漫长的过程，至少 2 年，很多人都会腰斩再腰斩。</p>\n<p>路漫漫其修远兮，加油吧。</p>\n<p>[https://www.bilibili.com/video/BV1mwLqz6EkX/?share_source=copy_web&amp;vd_source=f0a4a59c7013e34588e9395814ec45a9]:</p>\n<p>[https://www.bilibili.com/video/BV1mwLqz6EkX/?share_source=copy_web&amp;vd_source=f0a4a59c7013e34588e9395814ec45a9]:</p>\n",
            "tags": [
                "量化",
                "技术面",
                "金融"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/quant/technical/%E6%8A%80%E6%9C%AF%E9%9D%A2%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/",
            "url": "https://liuxiaohanhanzi.top/quant/technical/%E6%8A%80%E6%9C%AF%E9%9D%A2%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/",
            "title": "技术面学习（二）",
            "date_published": "2025-03-04T05:49:54.000Z",
            "content_html": "<p>本节记录 K 线理论</p>\n<h1 id=\"单k\"><a class=\"anchor\" href=\"#单k\">#</a> 单 K</h1>\n<ul>\n<li>\n<p>攻击线：7% 以上长红线，5% 中阳线，3% 小阳线；对于大市值股票如茅台，小涨幅就已经是暴涨</p>\n</li>\n<li>\n<p>整理线：</p>\n<ul>\n<li>震荡线：幅度大，影线长。变盘的信号</li>\n<li>聚量线：幅度小，量能大。一旦突破就是强力支持，量大不涨必有压</li>\n</ul>\n</li>\n<li>\n<p>停滞线：一字最强，T 字弱一些</p>\n</li>\n</ul>\n<h1 id=\"双k\"><a class=\"anchor\" href=\"#双k\">#</a> 双 K</h1>\n<h2 id=\"两根攻击线\"><a class=\"anchor\" href=\"#两根攻击线\">#</a> 两根攻击线</h2>\n<h3 id=\"强势攻击状态\"><a class=\"anchor\" href=\"#强势攻击状态\">#</a> 强势攻击状态</h3>\n<ol>\n<li>跳。最强，一红定江山，如果（1）能突破（2）爆量，即最好的</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304141832624.png\" alt=\"image-20250304141832624\" /></p>\n<ol start=\"2\">\n<li>连。影线长短代表分歧大小，最好没量 + 大单分时流入</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304141902834.png\" alt=\"image-20250304141902834\" /></p>\n<ol start=\"3\">\n<li>插。低位往往是洗盘；高档是大分歧，很危险。需要看第三天决定</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304141941028.png\" alt=\"image-20250304141941028\" /></p>\n<ol start=\"4\">\n<li>并。一般是洗盘，需要高开确认。中间加线就是炮塔</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304142022159.png\" alt=\"image-20250304142022159\" /></p>\n<ol start=\"5\">\n<li>落。比较弱了，如果是洗盘，昨天的人全被套了，也太狠了。低档好一点，高位不好，要看第三天确认</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304141712939.png\" alt=\"image-20250304141712939\" /></p>\n<h3 id=\"特殊的攻击形\"><a class=\"anchor\" href=\"#特殊的攻击形\">#</a> 特殊的攻击形</h3>\n<ol>\n<li>飘。涨停 + 高开低走。开盘涨太多，多方不稳</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304142232552.png\" alt=\"image-20250304142232552\" /></p>\n<ol start=\"2\">\n<li>脱。涨停 + 加速 + 高开低走。和飘一样，下杀势能更大</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304142312307.png\" alt=\"image-20250304142312307\" /></p>\n<ol start=\"3\">\n<li>止。跌停 + 低开高走，止住黑方的趋势</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304142402731.png\" alt=\"image-20250304142402731\" /></p>\n<ol start=\"4\">\n<li>离。跌停 + 加速 + 反包大阳线。下跌力度衰竭，和脱红对应</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304142337556.png\" alt=\"image-20250304142337556\" /></p>\n<ol start=\"5\">\n<li>蔽</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304142443084.png\" alt=\"image-20250304142443084\" /></p>\n<ol start=\"6\">\n<li>玉</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304142514614.png\" alt=\"image-20250304142514614\" /></p>\n<p><img loading=\"lazy\" data-src=\"./image-20250304142613668.png\" alt=\"image-20250304142613668\" /></p>\n<h2 id=\"攻击整理\"><a class=\"anchor\" href=\"#攻击整理\">#</a> 攻击 + 整理</h2>\n<ol>\n<li>反</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304144853678.png\" alt=\"image-20250304144853678\" /></p>\n<ol start=\"2\">\n<li>阻，比反好一些，不一定主力就要调整了</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304144957864.png\" alt=\"image-20250304144957864\" /></p>\n<ol start=\"3\">\n<li>钉</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304145122228.png\" alt=\"image-20250304145122228\" /></p>\n<ol start=\"4\">\n<li>穿</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304145213612.png\" alt=\"image-20250304145213612\" /></p>\n<ol start=\"5\">\n<li>化</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304150012127.png\" alt=\"image-20250304150012127\" /></p>\n<ol start=\"6\">\n<li>孕</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304150116173.png\" alt=\"image-20250304150116173\" /></p>\n<p><img loading=\"lazy\" data-src=\"./image-20250304150140798.png\" alt=\"image-20250304150140798\" /></p>\n<h2 id=\"整理攻击\"><a class=\"anchor\" href=\"#整理攻击\">#</a> 整理 + 攻击</h2>\n<ol>\n<li>仙人指路</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304150439556.png\" alt=\"image-20250304150439556\" /></p>\n<ol start=\"2\">\n<li>反转</li>\n</ol>\n<p><img loading=\"lazy\" data-src=\"./image-20250304150736370.png\" alt=\"image-20250304150736370\" /></p>\n",
            "tags": [
                "量化",
                "技术面",
                "金融"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/quant/technical/%E6%8A%80%E6%9C%AF%E9%9D%A2%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/",
            "url": "https://liuxiaohanhanzi.top/quant/technical/%E6%8A%80%E6%9C%AF%E9%9D%A2%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/",
            "title": "技术面学习（一）",
            "date_published": "2025-03-01T15:26:29.000Z",
            "content_html": "<h1 id=\"建仓\"><a class=\"anchor\" href=\"#建仓\">#</a> 建仓</h1>\n<ol>\n<li>符合什么模式？</li>\n<li>能不能上仓位？第几买点？</li>\n<li>环境情绪怎么样？</li>\n</ol>\n<br>\n<h1 id=\"股票的四种本质\"><a class=\"anchor\" href=\"#股票的四种本质\">#</a> 股票的四种本质</h1>\n<ul>\n<li>强更强</li>\n</ul>\n<p>​\t三一、半路（上板）、连板</p>\n<ul>\n<li>强转弱</li>\n</ul>\n<p>​\t炸板、断板</p>\n<ul>\n<li>弱转强</li>\n</ul>\n<p>​\t爆量高开转一致，仙人指路，断板反包，炸板低接力（回封）</p>\n<ul>\n<li>弱转弱</li>\n</ul>\n<p>​\t如连续地板</p>\n<blockquote>\n<p>一个股票要是想成为真正的市场龙头，一定经历过两种情况：</p>\n<ol>\n<li>爆量高开转一致</li>\n<li>三一</li>\n</ol>\n</blockquote>\n<br>\n<h1 id=\"强转强\"><a class=\"anchor\" href=\"#强转强\">#</a> 强转强</h1>\n<h2 id=\"三一\"><a class=\"anchor\" href=\"#三一\">#</a> 三一</h2>\n<p>三一的本质是什么？</p>\n<p>情绪上升期，成交金额越大，买盘多</p>\n<p>情绪下降期，成交金额越大，卖盘强，分歧大向下砸</p>\n<blockquote>\n<p>94 三一，强板块中的强个股</p>\n</blockquote>\n<h2 id=\"半路\"><a class=\"anchor\" href=\"#半路\">#</a> 半路</h2>\n<ul>\n<li>\n<p>涨速榜（4% or 5% 以上）</p>\n</li>\n<li>\n<p>DDE 决策板块的主力大单金额</p>\n</li>\n</ul>\n<p>只存在于早盘；</p>\n<p>第一个半路一般是偷鸡，成交量没放出来；</p>\n<p>后续的票成交量要充足</p>\n<br>\n<h1 id=\"弱转强\"><a class=\"anchor\" href=\"#弱转强\">#</a> 弱转强</h1>\n<h2 id=\"爆量\"><a class=\"anchor\" href=\"#爆量\">#</a> 爆量</h2>\n<p>爆量：波段最大量 or 历史最大量，同时是前一天交易量的倍量及以上</p>\n<p><strong>爆量的本质是大分歧</strong></p>\n<ol>\n<li>爆量之后次日高开，开盘拉升就是一个<strong>买点</strong>，如果有前高压力，但可以压力不买，选择放弃。</li>\n<li>爆量之后次日低开，但是低开急拉也视为高开，也是一个买点</li>\n<li>爆量第二天低开，但是低开不杀慢一步，不要轻易割肉，冲高减仓或者出局</li>\n<li>爆量第二天低开杀，环境还比较弱的情况下，无条件出局</li>\n</ol>\n<h2 id=\"仙人指路\"><a class=\"anchor\" href=\"#仙人指路\">#</a> 仙人指路</h2>\n<p>断板反包，炸板反包本质是仙人指路的特殊形式</p>\n<p>低位仙人指路，高位墓碑线</p>\n<p>低位尽量放量，高位不放量</p>\n<h2 id=\"炸板低接\"><a class=\"anchor\" href=\"#炸板低接\">#</a> 炸板低接</h2>\n<p>炸板六原则：（判定是出货砸盘还是吃货低接）</p>\n<ol>\n<li>\n<p>需要看炸板时间先后，一般来说，炸板时间越晚则越强。<br />\n特例：有可能存在日内卡位，B 先炸先回封，A 后炸，B 可能存在日内卡位 A。</p>\n<p><strong>操作：选炸板晚的、回封早的。（当日最强）</strong></p>\n</li>\n<li>\n<p>炸板前封单大小。封单大说明买盘意愿强烈，炸板后如有资金引导回封强度就越强。</p>\n<p><strong>操作：之前封单大</strong></p>\n</li>\n<li>\n<p>区分炸板是主动（弱）还是被动（强），主动是没有外界影响，压力主动开砸（也有可能主动炸板补量）；被<br />\n动是受到指数、情绪影响（例如指数大低开，情绪冰点等）等影响。</p>\n<p><strong>操作：被动开板</strong></p>\n</li>\n<li>\n<p>炸板之后的放量速度，越慢越好，快速放量容易造成滚量潮。观察封板和炸板的分时量柱做对比，如日内爆量<br />\n需要注意仓位。</p>\n<p><strong>操作：炸板后不放量</strong></p>\n</li>\n<li>\n<p>炸板之后主力金额的变化，主要观察盘口，是大单吃单多还是大单砸单多？大单金额分时（同花顺 L2 功能）是<br />\n否持续增加</p>\n<p><strong>操作：主力金额流入，大单买多</strong></p>\n</li>\n<li>\n<p>回封时间的早晚和回封的强度。</p>\n<p><strong>操作：同第 1 点</strong></p>\n</li>\n</ol>\n<p>总结：龙头票比没有预期的垃圾票博弈天降馅饼的概率靠谱得多，做个现实的渣男渣女，杜绝幻想和敢于追求最漂<br />\n高的</p>\n<h2 id=\"撬跌停板\"><a class=\"anchor\" href=\"#撬跌停板\">#</a> 撬跌停板</h2>\n<p>高阶，很难，遵守 5 原则</p>\n<ol>\n<li>指数配合。指数要维持红盘或者至少震荡，不能大跌</li>\n<li>主流题材的上升周期，遇到强分歧。题材一定要还没有走完！</li>\n<li>个股性质：要是绝对龙头，人气和关注度都很高</li>\n<li>个股分时：看翘板力度。最好的是一根直线拉 5-6 个点，那样翘板资金实力强，成功率高。磨磨蹭蹭的，很多是做 T 或者出货。</li>\n<li>个股日 K：看筹码结构、筹码空间感。一定是主力被埋，有自救的预期，或是短时间超跌缩量一字超跌，上方无筹码交换，拉升更容易</li>\n</ol>\n",
            "tags": [
                "量化",
                "技术面",
                "金融"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/world-me/%E5%B0%8F%E6%B0%91%E4%BB%8E%E6%9D%A5%E4%B8%8D%E5%8F%AF%E8%BD%BB/",
            "url": "https://liuxiaohanhanzi.top/world-me/%E5%B0%8F%E6%B0%91%E4%BB%8E%E6%9D%A5%E4%B8%8D%E5%8F%AF%E8%BD%BB/",
            "title": "小民从来不可轻",
            "date_published": "2025-02-28T05:10:51.000Z",
            "content_html": "<h1 id=\"为什么有人认同张角\"><a class=\"anchor\" href=\"#为什么有人认同张角\">#</a> 为什么有人认同张角？</h1>\n<h2 id=\"回答一\"><a class=\"anchor\" href=\"#回答一\">#</a> 回答一</h2>\n<p><img loading=\"lazy\" data-src=\"./image-20250228131259525.png\" alt=\"image-20250228131259525\" /></p>\n<h2 id=\"回答二\"><a class=\"anchor\" href=\"#回答二\">#</a> 回答二</h2>\n<p><img loading=\"lazy\" data-src=\"./image-20250228131423430.png\" alt=\"image-20250228131423430\" /></p>\n<h2 id=\"回答三\"><a class=\"anchor\" href=\"#回答三\">#</a> 回答三</h2>\n<p><img loading=\"lazy\" data-src=\"./image-20250228131505484.png\" alt=\"image-20250228131505484\" /></p>\n<p><img loading=\"lazy\" data-src=\"./image-20250228131526890.png\" alt=\"image-20250228131526890\" /></p>\n",
            "tags": [
                "对世界的建模",
                "历史"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/internship/python%E5%85%AB%E8%82%A1/",
            "url": "https://liuxiaohanhanzi.top/internship/python%E5%85%AB%E8%82%A1/",
            "title": "python八股",
            "date_published": "2025-02-26T10:19:10.000Z",
            "content_html": "<h1 id=\"ravel和flatten的区别\"><a class=\"anchor\" href=\"#ravel和flatten的区别\">#</a> ravel 和 flatten 的区别</h1>\n<p>np.ravel 返回原数组的一个 view，而 flatten 返回一个副本</p>\n<h1 id=\"t转置的内存规则\"><a class=\"anchor\" href=\"#t转置的内存规则\">#</a> T 转置的内存规则</h1>\n<p>对于一个 ndarray 数组 A，A.T 是一个新的对象，即 id (A) 和 id (A.T) 不相等</p>\n<p>但是二者共享底层的数据存储</p>\n<h1 id=\"数组顺序\"><a class=\"anchor\" href=\"#数组顺序\">#</a> 数组顺序</h1>\n<ul>\n<li>K：内存顺序</li>\n<li>C：行顺序</li>\n<li>F：列顺序</li>\n</ul>\n<h1 id=\"metaclass元类\"><a class=\"anchor\" href=\"#metaclass元类\">#</a> metaclass 元类</h1>\n<p>创建普通类的 “创世神”，普通类是元类的一个 instance</p>\n<p>记住 super ().__new__的参数需要 cls，super ().__init__则无需显式传入 self</p>\n<p>自定义元类 mymeta 继承 type</p>\n<p>class mything (base,metaclass=mymeta)，其中 mymeta 是我们自己定义的元类</p>\n<h1 id=\"切片\"><a class=\"anchor\" href=\"#切片\">#</a> 切片</h1>\n<p>切片获得原数组的 view，修改反馈到原数组</p>\n<p>0 维数组使用 [...] 来切片</p>\n<p><code>...</code>  即许多个 <code>:</code></p>\n<h1 id=\"自定义npndarray类\"><a class=\"anchor\" href=\"#自定义npndarray类\">#</a> 自定义 np.ndarray 类</h1>\n<p>先 new，new 中有 view (cls) 所以会调用 finalize，最后创建好后会 init</p>\n<p>一般不写 init，直接在 new 中 np.asarray，view，属性赋值</p>\n<p>当进行切片 or 创建视图时，会调用__array_finalize__方法</p>\n<p>finalize 中，obj 是原数组，self 是新视图</p>\n<hr />\n<p>todo：未完待续……</p>\n",
            "tags": [
                "实习",
                "python"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/quant/c-fundamental/%E5%9F%BA%E6%9C%AC%E9%9D%A2%E9%87%8F%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%85%AD%EF%BC%89/",
            "url": "https://liuxiaohanhanzi.top/quant/c-fundamental/%E5%9F%BA%E6%9C%AC%E9%9D%A2%E9%87%8F%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%85%AD%EF%BC%89/",
            "title": "基本面量化学习（六）",
            "date_published": "2025-02-23T07:06:08.000Z",
            "content_html": "<h1 id=\"估值维度\"><a class=\"anchor\" href=\"#估值维度\">#</a> 估值维度</h1>\n<p>todo：后续有时间把书推完</p>\n",
            "tags": [
                "量化",
                "基本面",
                "金融"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/quant/c-fundamental/%E5%9F%BA%E6%9C%AC%E9%9D%A2%E9%87%8F%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%94%EF%BC%89/",
            "url": "https://liuxiaohanhanzi.top/quant/c-fundamental/%E5%9F%BA%E6%9C%AC%E9%9D%A2%E9%87%8F%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%94%EF%BC%89/",
            "title": "基本面量化学习（五）",
            "date_published": "2025-02-23T06:45:04.000Z",
            "content_html": "<h1 id=\"本书量化介绍\"><a class=\"anchor\" href=\"#本书量化介绍\">#</a> 本书量化介绍</h1>\n<p>包含基本面价投</p>\n<p>包含市场参与者、市场价格和情绪指标</p>\n<p>不包含高频交易 &amp; 统计套利</p>\n<h2 id=\"量化模型\"><a class=\"anchor\" href=\"#量化模型\">#</a> 量化模型</h2>\n<p>主要分为阿尔法模型（选股）与风险模型</p>\n<p>风险模型操作固定，风险管理不如阿尔法 popular，但也很重要，如著名的 barra 风险模型</p>\n<h2 id=\"打开量化的黑盒子\"><a class=\"anchor\" href=\"#打开量化的黑盒子\">#</a> 打开量化的黑盒子</h2>\n<p>量化投资基于四个基本假设（理论）</p>\n<ol>\n<li>市场几乎有效，但不完全有效</li>\n</ol>\n<p><strong>如果市场完全有效，那纯套利机会就不存在了。</strong> 弱有效，技术分析就没用了；半强有效，基本面也没用了；强有效，内幕消息也没用了。许多异常现象表明，市场最多弱有效，有时半强有效</p>\n<ol start=\"2\">\n<li>量化可以统计意义上套利</li>\n</ol>\n<p>一笔交易不一定盈利，但依概率收敛为盈利，统计期望是正的</p>\n<ol start=\"3\">\n<li>量化投资有坚实的逻辑与基础</li>\n</ol>\n<p>阿尔法因子和超额收益不能只为统计相关，要能用逻辑解释</p>\n<ol start=\"4\">\n<li>量化模型应持续 &amp; 稳定</li>\n</ol>\n<p>4 是 3 的结果</p>\n<ol start=\"5\">\n<li>超额收益只有在不确定性足够小才有意义</li>\n</ol>\n<p>水下你能拿得住？</p>\n<blockquote>\n<p>机构票、基金重仓股的定义：被多家基金公司持有并占流通市值的 20% 以上</p>\n</blockquote>\n<h2 id=\"后续内容架构\"><a class=\"anchor\" href=\"#后续内容架构\">#</a> 后续内容架构</h2>\n<p>价投两要素 —— 低价 &amp; 高质量</p>\n<ul>\n<li>介绍估值因子与质量因子，质量因子分为五个维度 —— 盈利能力、经营效率、盈余质量、投融资、无形资产</li>\n<li>市场信号对基本面量化的修正，包含参与者信号、市场价格信号、情绪、公司间的关联</li>\n<li>量化投资方法 —— 文本分析、大数据</li>\n<li>实践 —— 风险管理、完整流程展示</li>\n</ul>\n",
            "tags": [
                "量化",
                "基本面",
                "金融"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/world-me/kazeohamu-%E9%A2%A8%E3%82%92%E9%A3%9F%E3%82%80/",
            "url": "https://liuxiaohanhanzi.top/world-me/kazeohamu-%E9%A2%A8%E3%82%92%E9%A3%9F%E3%82%80/",
            "title": "kazeohamu(風を食む)",
            "date_published": "2025-02-16T05:13:21.000Z",
            "content_html": "<h1 id=\"温室的善良\"><a class=\"anchor\" href=\"#温室的善良\">#</a> 温室的善良</h1>\n<blockquote>\n<p>来源知乎</p>\n</blockquote>\n<p>温室里培育出的善良</p>\n<p>通常会自带真空球形设定的高傲，</p>\n<p>以及因无知而生的忽视即残忍。</p>\n<h1 id=\"让我们荡起双桨\"><a class=\"anchor\" href=\"#让我们荡起双桨\">#</a> 让我们荡起双桨</h1>\n<blockquote>\n<p>来源知乎</p>\n</blockquote>\n<p>为什么听着总有种淡淡的哀伤？</p>\n<p>因为它描述了一个不存在的幸福社会的幻像，同时有着一层超现实主义和怀旧主义的光晕，如同旧梦中那种稍纵即逝无法把握的美好。<br />\n它给我的最大联想是一个死去的世界，一张平静美好但早已在时间的洪流中朽坏，触之及灰飞烟灭的画卷。</p>\n<h1 id=\"朝菌裳蚜\"><a class=\"anchor\" href=\"#朝菌裳蚜\">#</a> 朝菌裳蚜</h1>\n<blockquote>\n<p>来源知乎</p>\n</blockquote>\n<p>为什么中国社会容错率显得那么低？其他国家容错率也跟中国一样吗？</p>\n<p>我想，可能是因为因为很多人都觉得自己是永生的</p>\n<p>我本科时候有一个室友，是从偏远地区来的，成绩很好，他平常是非常唯物的类型，我想很多人都见过这种人。然而有一天晚上，他却躺在床上，非常悲伤的对我说，他突然意识到了他有一天会死，会离开这个世界，一想到这件事他就感到无法控制的恐惧</p>\n<p>大部分人不敢真正去面对死亡，即使理性上知道自己总有一天会死，但他们在潜意识里也没有把这件事认真对待，于是久而久之，便在不知不觉中认为自己是永生的</p>\n<p>在这种逻辑下，暂时的忍耐也是可以接受的了，毕竟自己是永生的。这真的是太值得了，我们只需要小心翼翼、低声下气、忍辱负重地度过那关键的十年、关键的二十年、关键的三十年、关键的四十年、关键的五十年、关键的六十年… 便可以享受后面一劳永逸的永生了</p>\n<p>但反过来说，你犯的任何一点小错，人生轨迹中的任何一点差池，便会使你在接下来的永生中一直受到它的侵害。再叠加上无神论思想，这个世界不关心你，这个世界不回答你，没有任何人可以宽恕你，没有任何人可以救赎你，你会永远的活着，并且永远的煎熬。</p>\n<p>于是贫穷的人煎熬着，在残酷的竞争中向上攀爬。富有的人煎熬着，在惴惴不安中守护自己的地位。我们的大脑空空如也，坐在荒芜的原野上，就像古老时代的猿猴一般恐惧未来</p>\n<hr />\n<p>“我们经过的日子、都在你震怒之下。我们度尽的年岁、好像一声叹息。</p>\n<p>我们一生的年日是七十岁。若是强壮可到八十岁。但其中所矜夸的、不过是劳苦愁烦。转眼成空、我们便如飞而去。”</p>\n<p>是的，我们终究会死，做错的事情会得到宽恕，费尽心机得到的东西也会离你而去。死亡本身就是一个奇迹，它就像礼物一般，最终被赠与给所有人，使我们可以从这个世界上被接走，前往下一段旅程</p>\n<h1 id=\"非直观压迫\"><a class=\"anchor\" href=\"#非直观压迫\">#</a> 非直观压迫</h1>\n<blockquote>\n<p>来源知乎</p>\n</blockquote>\n<p>实话实说，我很早就能意识到：</p>\n<p><strong>人类对于那种潜在的非直观的，利用系统进行建制性的剥削和压迫非常不敏感。</strong></p>\n<p>比如直接让你去做劳役干活，直接拿鞭子抽你你会非常感到不舒适，但如果<strong>我利用精巧的税收系统以及资本生活成本设计，让你有一定财富盈余维系非常有限度的收支平衡的时候，你会带有一定 “自由感” 地主动参与加班干活 。</strong></p>\n<p>再比如说我是特权阶级，我直接征收你的家产财富你一定会展露出极大的不满，<strong>但是如果我一视同仁地进行税务收取，再用税务收取设计政策偏向于特权阶级产业发展和财富循环体系，几十年如一日地非常隐晦地进行财富流动转移，最终形成贫富差距，大部分人是非常麻木的。</strong></p>\n<p>放在互联网上也一样。</p>\n<p>有人说，唉我现实中遇到的男生 / 女生都很正常啊，大家有说有笑地嘻嘻哈哈不也很开心吗，哪有大家说的男女对立啊？</p>\n<p><strong>但这种语录就相当于你作为劳务派遣外包的外包和别人公务员编制正式工同坐在一个办公室里干一样的活（其实你会干大头），你就以为自己和那些正式工平起平坐了（发工资和交社保时候就老实了）她们早就通过政策 / 社会舆论机制 / 法律规制隐晦地间接以性别为集合潜在剥削你的财富 / 生产价值了。</strong></p>\n<p>所谓现实中没有，无非是大家都带着面具，哪怕你知道对面是剥削你的老板 / 曾经殖民你们的老白男，人家慈祥嘘寒问暖地笑摸着地给你打招呼伸手不打笑脸人的，说我爱中国 等等等等从人性层面上普通人很难发作或者激化矛盾。</p>\n<p><strong>但这不意味结构性矛盾不存在。</strong></p>\n<p><strong>就像你跟身边女性关系再好，不意味着她退休不会比你早十年 / 享受的社会保障比你少 / 收到社会舆论支持声量比你低 / 人均寿命比你短 / 收益与劳动比比你低 / 消费与收入比比你低 / 转移红利吃的比你少……</strong></p>\n<p><strong>互联网只是给大家一个交流空间，让大家把自己对抽象政策 / 概念理论的理解整合成明确的旗帜，各自站队罢了。</strong></p>\n<p><strong>这一点网络其实是比现实要清醒的。</strong></p>\n<p>ridiculous</p>\n<h1 id=\"救猫or救画\"><a class=\"anchor\" href=\"#救猫or救画\">#</a> 救猫 or 救画</h1>\n<blockquote>\n<p>来源知乎</p>\n</blockquote>\n<p>你故意在天平的两端放上了完全不对等的砝码，天平必然一边倒。<br />\n你再将道德放在轻的一方，试图宣布两方现在等重了。<br />\n仿佛这样就能称量出，你的道德如此厚重。</p>\n<h1 id=\"精神病世界的正常人\"><a class=\"anchor\" href=\"#精神病世界的正常人\">#</a> 精神病世界的正常人</h1>\n<p>这个社会上的精神病太多了，很多正常人被迫和精神病人一起生活。<br />\n为了不被精神病人怨恨和迫害，只得长期按照精神病人的逻辑规则行事</p>\n<h1 id=\"宝石花\"><a class=\"anchor\" href=\"#宝石花\">#</a> 宝石花</h1>\n<blockquote>\n<p>来源知乎</p>\n</blockquote>\n<p>对子女缺乏宠爱和教导的家庭绝对养不出来这种孩子。这种孩子一看就是父母全心全意捧在手上才能培养出来的宝石花。这种宝石花有另外一个特点就是世界不大。她们的世界就是亲人爱人友人给她们构筑起来的温暖美丽的安全区，她们不缺乏爱和关注和保护，从小被娇养大，潜意识里对于爱和关注和保护的需求其实非常高 (和富二代们对于生活条件要求高而不自知是一个道理)。</p>\n<h1 id=\"知识分子的弱点\"><a class=\"anchor\" href=\"#知识分子的弱点\">#</a> 知识分子的弱点</h1>\n<p>凡是脱离了一线生产劳动久了的人，别管是不是知识分子，或者其他什么分子，总会有这样一个毛病：<br />\n就是认为世界上存在这么一个 “圣物”。<br />\n这个 “圣物” 可以是一种东西，也可以是一种学说，也可以是一种制度。<br />\n他们认为，只要有了这个 “圣物”，那么一切东西都迎刃而解了，<br />\n 于是，他们就自以为是的拿着这个 “圣物” 到处推销，售卖。</p>\n<hr />\n<p>这个圣物，有可能是虚无缥缈的上帝和安拉，有可能是难以捉摸的天理，有可能是所谓的绝对精神，有可能是想象的以太，有可能是抽象的道，有可能是吓人的老天爷，还有可能是披着科学外衣的一个幻想的抽象的平行宇宙式的绝对力量，总之是脱离现实生活。<br />\n他们唯独漠视的是，物质生产劳动之于人和人类社会的根本性意义。</p>\n<p>再精炼一点就是只有抽象思辨，没有物质运动和实践。</p>\n<h1 id=\"精卫\"><a class=\"anchor\" href=\"#精卫\">#</a> 精卫</h1>\n<blockquote>\n<p>来源网络（请配上精卫琵琶版）</p>\n</blockquote>\n<p>中国人不肯赋予神凌驾于人之上的绝对权威。</p>\n<h1 id=\"垃圾电影\"><a class=\"anchor\" href=\"#垃圾电影\">#</a> 垃圾电影</h1>\n<blockquote>\n<p>作者：兰河<br />\n来源：<a href=\"https://www.zhihu.com/question/7851676737/answer/67439953856\">知乎</a></p>\n</blockquote>\n<p>我希望 95% 以上的圈内的演员、导演、编剧都知道这件事：</p>\n<p><strong>你们现在的当务之急不是创作、不是传播文化、不是搞艺术。你们的当务之急是把屎尿屁嬉皮笑脸烂俗商业片这个级别的东西弄明白。</strong></p>\n<p>你们只是一帮文化课停留在初一初二，高中虽然读了但是约等于一张白纸，对于你们的本职工作理解还停留在联考校考时考那个 b 编导和电影学院背的一些基础知识，本科阶段主要聚焦于蹭组、打炮和到处 social 的半文盲。</p>\n<p>你们搞电影不是因为你们热爱电影，也不是因为你们有天赋。只是因为你们有的人有搞电影的爹妈，有的人有张好皮。当然，你们当中大部分人只是因为家里有几个闲子，自己又只是个学牛顿三定律学不明白、除了上网打架就是啵嘴打胎的神人。因为十五六觉得学电影听起来很牛逼就非要学电影，家里也索性让你用艺考 “绕开” 高考。</p>\n<p>老中影视圈前些年的虚假繁荣给了你们错觉，那就是你们配得上这些钱和地位。这是天大的错觉，这个错觉让你们觉得你们赚钱是因为你们有天赋有实力，要追逐艺术，要成为某种艺术家、人文思想的承载体、社会阴暗面的发声人。</p>\n<p>但其实你们没有那个资格，你们大部分人都是中产以上家庭出身，你们没见过底层，也不知道什么叫底层，你们对底层的理解停留在抖音。不是把脂粉卸了抹点灰你就像底层了，你可以用这种方法冲击各种公司花钱帮你内定的奖项，但是那不叫追逐艺术。</p>\n<p>你们没资格做人文思想传播者，因为你们根本不懂任何一种人文思想，你们觉得女性主义很有道理迫不及待要发声只是因为女性主义符合你 cosplay “反压迫扛旗人” 的精神需求和公司用你这个人设割十几岁女拳入脑的蠢小孩的韭菜捞钱需求。</p>\n<p>你们没资格做社会阴暗面的发声人，因为你们就是社会阴暗面本身的一部分。<strong>你们热爱发声不是因为勇敢，恰恰是因为怯懦</strong>。你们知道这个国家的政府对文艺界的管控欠缺，哪怕拍出再逆天的东西也不会出事，最多就是不允许你在国内上，不影响你在国内外吃香喝辣，甚至你作为公众人物可以去往某些反 d 一线运动都不会动你。</p>\n<p>但是你们不敢真的横眉冷对那些同行，那些洗钱、潜规则、合伙搞金融诈骗的同行，你们还是会笑眯眯的和他们在一个电影节、一部电影、一个综艺上出现并且互相称赞演技和人品，一口一个 “老师”“大哥”，因为你怯懦。</p>\n<p>你当然会怯懦，你连一点钱都不想失去，甚至你自己或者你的公司也干了这些事，你怎么会不怯懦呢？</p>\n<p>你们应该明白，你们当中大部分从来就没创造（假如你们的东西能称为创造的话）任何有艺术价值的东西。你们能赚钱只是靠两点，影视圈的虚假繁荣和挠痒痒。</p>\n<p>在过去的二十年里，中国人迅速膨胀了各种需求，包括约会、聚会的需求。情人节哪怕放一张照片情侣也会去看，这让你们赚钱，但这不是你们的能力。这是虚假繁荣。</p>\n<p>你们爱拍的女权、农村人被人欺负，其实和真正的女性主义和农村困境也无关，你们只是想象是那样，只是正好给物质过度丰盈，精神无处安放的豆瓣文艺青年挠痒痒，所以他们会给你们花钱，他们看你们的电影本质上和包工头去店里洗脚没区别。只是因为豆瓣中产文艺逼声量极大，给了你们 “我是代为发声” 的错觉。</p>\n<p>现在经济下行，潮水退去，票房的虚假繁荣被人民用脚投票打破，中产庞大的声量也再盖不住对你们嗤之以鼻的声音，这种情况下居然还屡屡搞女拳之类的得罪一半的人，让自己的目标群体 - 50%，很难想象在你们的眼里自己是怎样伟大的存在。</p>\n<p>但是事实是这样的：</p>\n<p>你们的作品没有艺术价值，就连商业价值也欠奉。你们现在还没资格踏上艺术探索的路，因为你们连基本功都还没有。</p>\n<p>先拍好屎尿屁和合家欢吧</p>\n",
            "tags": [
                "对世界的建模",
                "诗"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/world-me/%E4%B8%96%E7%95%8C%EF%BC%8C%E4%B8%8D%E6%96%AD%E6%94%B9%E5%8F%98/",
            "url": "https://liuxiaohanhanzi.top/world-me/%E4%B8%96%E7%95%8C%EF%BC%8C%E4%B8%8D%E6%96%AD%E6%94%B9%E5%8F%98/",
            "title": "世界，不断改变",
            "date_published": "2025-02-16T04:49:13.000Z",
            "content_html": "<h1 id=\"东京喰种的结局如何评价\"><a class=\"anchor\" href=\"#东京喰种的结局如何评价\">#</a> 东京喰种的结局如何评价</h1>\n<blockquote>\n<p>作者：<a href=\"https://www.zhihu.com/question/283618510/answer/432526354\">研山山</a></p>\n</blockquote>\n<p>原答案</p>\n<p>今早看完了 179 的汉化，自答一波。</p>\n<p>以下内容仅代表个人主观臆测，望有不同意见的朋友在评论区友善交流，勿喷。</p>\n<p>《东京喰种》没有意外的话应该不会有下一部续作了，所以很可惜，根据它最后几章大结局的故事发展水平，我只能遗憾地接受这部作品沦为烂尾作的事实。</p>\n<p>在 179 情报发出之后，正式汉化推出之前，整个贴吧都沦陷在一片对结局的失望，对作者西瓜的不满情绪当中，但也不乏乐见这个大团圆结局的人在。在对《东京喰种》一系列缺点不足数落之余，我心里突然有了一个想法：</p>\n<p><strong>《东京喰种》是我看过的少有的，作品基调和主角情感塑造随着作者自身心态的改变而改变的漫画。</strong> 上一次看到与之相似的受作者自身心态所影响的作品，还是痞子的《EVA》，不过和喰种的转变方向完全相反就是了。</p>\n<p>从《东京喰种》无印篇到 re 前半部分，我们可以看到作者西瓜在很用心地写这个故事，也放入了很多自己想表达的东西在里面。所以在这个阶段的《喰种》里，我们可以看到很多完成度很高的篇章，里面的戏剧矛盾描写得激烈而又恰到好处，一票角色塑造的立体程度令人动容。而这些也正是当时的《东京喰种》能吸引到我们的地方，当时谁不是因为凉子小姐的死，金木被虐后的黑化，以及基佬山的变态（x）而入的坑？一直到最后，被 20 区驱逐战卷起的一个个悲剧漩涡，将读者陷入到东京喰种那独特的感染力和共情性当中，这也正是我们喜欢和支持这部作品的源动力所在。</p>\n<p>re 前半部分的两个大章 —— 拍卖会篇和月山家驱逐篇，是我个人很喜欢的两个故事。那时我真切感受到了什么叫 “心平气和地讲故事”。是的，在这两个故事的最终冲突打响前的几十话里，西瓜居然都在不紧不慢地描写着具体搜查过程，线索的突破和断开，CCG 的会议讨论等等很容易拉慢故事节奏的内容，你很难在这部分看到太多激烈的剧情冲突，它的细腻温和程度甚至能让你忘记它曾是一部画面里充斥着血浆与肢体的奇幻打斗漫，现在反倒更像是一部描写都市职场的普通青年漫。更难得的是，西瓜把这些细小的点全都有效利用了起来，让它们为最终故事的发展服务。</p>\n<p>如果没有之前神父与佐佐木对 Torso 猎食喜好与出没地点的推测，以及一次次对受害人亲友的探访，就发现不了 Torso 与青铜的动向，更遇不到大蛇；没有 Qs 女装潜入夜店的行动，也就发现不了拍卖会的存在；没有习因金木之死陷入癫狂而产生的进食混乱，也就不会有月山佣人外出捕食不慎被抓的情节；没有木岛故意放出的对悠马的拷问视频，也就不会使得爱慕悠马的女仆为拯救悠马去寻找目击证据，结果落入陷阱被捕，最终暴露月山家内幕；Qs 没有被叶雇佣的青铜打手袭击，也就没办法发现月山家和青铜树勾结的线索，再加上 Qs 面具行动的实施，获得了叶与青铜树利益往来的铁证，让 CCG 之后歼灭月山家的行动有了更充足的理由。</p>\n<p>这些一个个平淡细小的点，被西瓜用心地串联起来，一步步地将其运用起来推动故事的发展。不依靠刻意设置的打斗冲突，也不依靠突兀牵强的故事转机，就拿手上可用的既有线索，有条不紊地引爆了故事最终的矛盾，这较为缓慢的故事节奏也正好成为了西瓜塑造人物的优良土壤，我们也正是在这一阶段里看到一系列讨喜的 CCG 和喰种角色在西瓜的笔下接连诞生。我当时真的被那一时期西瓜所透露出来的耐性与平和所打动，再加上那时候漫画颇为细腻美型的画风，使得这个阶段的东京喰种，成为我真正粉上西瓜这个作者的最大原因。</p>\n<p>这一阶段的剧情虽然较为缓和欢快，但其中还是穿插着很多较为黑暗残酷的故事情节，仿佛在不时提醒着我们，对人性的冷峻挖掘，依然是这部漫画的基础核心所在。</p>\n<p><strong>这个时期的西瓜，热情与野心尚在。</strong></p>\n<p>而在之后发生了什么呢？月山篇结束后不久，紧接到金木有马决战篇章，这时候的喰种真人版电影启动，漫画的发售量在这个时期也一路高涨，在日本国内乃至国际上的成绩可以说相当好看，舞台剧，改编游戏也开始相继推出，西瓜也举办了个人画展，这个时期的喰种，在商业化上的热度达到了一个巅峰。而在这些与漫画创作无关的商业活动中，我们都不难看到西瓜投入了不少的精力在其中。电影版拍摄期间，西瓜亲自挑选了男女主演员，电影结束之后，他认真地为每个主要演员画了一幅画像；PSV 上的喰种游戏，西瓜更是亲笔操刀贡献了十万余字的游戏脚本；喰种第三季 TV 化后，西瓜在每一集开播时都画了贺图；而那次针对他自己个人的画展，如果说西瓜完全没有参与我是不信的。</p>\n<p>到这里为止，我想说的不是西瓜因为这些商业活动浪费了太多精力，最终导致漫画作品质量下降，不是的，西瓜实际上是个相当敬业的漫画家和画手，细数西瓜这七年以来的连载情况，除去日本每年惯例的节假日以及无印篇与 re 篇中间的间隔期，你会发现西瓜的休刊次数几乎为零。虽然喰种的连载时间比不上那些超长篇漫画，但七年的时间也不算短了，七年里几乎没有休过刊，在为各种商业活动忙碌的同时还依然保持着高强度的漫画周更，已经相当相当难得了。如果关注一下西瓜的网络社交账号，你会发现西瓜在网上更新画作的频率相当夸张，对于这样的情况，我只能理解为西瓜是一个真正喜欢「画画」，对「画画」这项职业无比敬重的人，它之所以对这些活动那么上心，献上的画作一幅又一幅，甚至在连载之余花费大量时间为一个改编游戏书写十万余字的游戏脚本，我觉得更像是一种小孩子得到别人认可后，纯粹且难以掩饰的欣喜和骄傲。他是真的喜欢也真的很感谢这些愿意参与到他的作品改编，活动策划推广中的每个人。所以我们看到无论动画第二季的改编有多么糟糕，他还是愿意为动画的 ED 创作插画，第三季播出之时，依然开开心心地为每集奉上贺图。他不在乎别人做的怎么样，只要有人愿意为他的作品做点什么，他就很开心，他就很感谢。</p>\n<p>我想说的是，《东京喰种》这部漫画的成功程度已远远超过了西瓜最初的预想。西瓜可能在无印篇 TV 化的时候就发现了自己漫画在人气上做出了成绩，但是并没觉得最终会好到什么程度，毕竟日本每年动画化的作品那么多凭什么自己会成为突出的那一个。而到了喰种电影版启动和喰种漫画销量一路飙升的时候，西瓜才真正意识到，卧槽老子居然是在画这么火的一部漫画？</p>\n<p>石田スイ以前是什么人？他的出道作是一部叫《Penisman》的不入流的网络猎奇漫，他正式连载后选了喰种这一主题绝不是偶然，也不是为了刻意迎合什么才选择的，而是因为他就是喜欢这一类型的黑深残题材。在喰种漫画一开始一直到后面的故事里，我们都能感受到这部作品不断散发着的压抑，黑暗，暴虐的基调，换句话说，西瓜当时想画的是一个真正没有任何希望的悲剧。此时的西瓜，就和他笔下的金木一样，是一个读过很多复杂晦涩的文学作品（看漫画里西瓜不断引用的各类文学作品段落就知道），性格内敛含蓄，内心满满积攒着诸多难以发泄的负面情感，渴望被爱，渴望获得社会认同，渴望将心中的黑暗情绪，将自己的独特认知和新奇思想表达出来的文艺青年。我所说的，一开始的西瓜有野心，是指西瓜有创作表达上的野心，而不是有让作品成功的野心。我们从喰种里不难看出，西瓜就像一个看了很多书，心里充满了各种迫切想要说给别人听的想法，表达欲望极为强烈的，颇有才华的青年，他通过嘉纳之口讲了自己对医学发展的看法，通过泉姐与旧多的谈判讲了自己对政治的见解，通过一闪而过的大环 ACT 的理念表达了万物对自己物种出身的偶然性与不可选择性才是造成物种间不平等的重要原因，通过故事里金木，有马，泉，月山，利世等一干喜欢读书的角色毫不吝啬地抒发自己对文学作品的热爱之情，当更多的，他心里想表达，想宣泄出来的东西太多太浓稠了，以至于浓稠到有些东西他甚至没办法准确清晰地将它们化成一条明确的主线表达出来让读者理解，各种过于意识流的描写经常让读者感到不知所云 —— 或者连他自己也不能完全理解。但他就是想表达，表达才是能让这个心中积攒着各种情绪的文艺青年感到安定的唯一方式。</p>\n<p>而之后喰种这部作品的成功程度是他始料未及的。喰种的成功为这个文艺青年带来的除了物质水平上的急剧提高，更多的是一种自身的被认同感，以及这个曾经他所不爱的，让他感到绝望的世界带来的前所未有的温情与安定，甚至他可能还和金木遇到董香一样，在他的生活里也出现了一个被他吸引而来的爱着他的伴侣。此时的西瓜，心境上开始改变，他不再怨恨这个世界，不再质疑，不再宣泄，亦不再挣扎。所以我们可以看到喰种的最后几章，这些之前不断在血海中斗争，肆意破坏着残酷世界的狠角色，面目心境都变得柔和得不像话。比如最后认为世界没有错的金木，死前为亚门笑着流泪的神父，与四方重归于好的呗，开始反思人生的泷泽，因为母亲的逝去而开始研究可再生医疗的嘉纳，以及只想过普通人生活的旧多。这些之前被黑暗笼罩着的角色开始释怀，实际上就是作者在与过去的自己进行决裂，而他之前对于创作和表达的野心，可能早就慢慢被某种温柔给磨平了。而对于作品成功的欲望，西瓜可能一开始就是没有的，所以当他与这个世界达成和解的时候，当他觉得他不再需要通过东京喰种表达什么的时候，他也就觉得这部作品的对他的意义到此为止了。</p>\n<br>\n<p><strong>所以他也就觉得，已经七年了，足够了。</strong></p>\n<br>\n<p><strong>而我们却觉得，这都七年了，可惜了。</strong></p>\n<p><img loading=\"lazy\" data-src=\"./DM_20250216133355_001.png\" alt=\"DM_20250216133355_001\" /></p>\n",
            "tags": [
                "对世界的建模",
                "动漫"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/quant/c-fundamental/%E5%9F%BA%E6%9C%AC%E9%9D%A2%E9%87%8F%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%9B%9B%EF%BC%89/",
            "url": "https://liuxiaohanhanzi.top/quant/c-fundamental/%E5%9F%BA%E6%9C%AC%E9%9D%A2%E9%87%8F%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%9B%9B%EF%BC%89/",
            "title": "基本面量化学习（四）",
            "date_published": "2025-02-08T08:34:40.000Z",
            "content_html": "<p>今天学习两类估值模型</p>\n<h1 id=\"相对估值模型\"><a class=\"anchor\" href=\"#相对估值模型\">#</a> 相对估值模型</h1>\n<p>就是选取一个指标（称作乘数），和市场上的可比公司横向比较</p>\n<p>常用乘数：市盈率、市净率、市销率</p>\n<p>可比公司一般选择：</p>\n<ul>\n<li>与目标公司在同一行业 or 从事同一业务</li>\n<li>规模 &amp; 增长率相似</li>\n<li>最好在同一交易市场</li>\n</ul>\n<p>多业务公司就按业务比例划分，取加权平均</p>\n<h2 id=\"市盈率\"><a class=\"anchor\" href=\"#市盈率\">#</a> 市盈率</h2>\n<p>最综合，易得实用</p>\n<p>一般而言，高风险公司市盈率更高；高增长公司市盈率更高</p>\n<p>缺点有：</p>\n<ol>\n<li>无法区分经营利润与非经营利润，降低了可比性，收益有被操纵的可能</li>\n<li>影响市盈率的因素较多，这增加了找到可比公司的难度</li>\n</ol>\n<h2 id=\"市盈增长率peg\"><a class=\"anchor\" href=\"#市盈增长率peg\">#</a> 市盈增长率（PEG）</h2>\n<p>计算方式为：市盈率除以 EPS 增长率，此处的 EPS 增长率一般为公司未来三年到五年的每股收益复合增长率</p>\n<p>PEG 的作用：对高增长公司市盈率偏高的调整</p>\n<p>PEG=1，估值充分反应公司未来增长；<br />\n小于 1，被低估 or 不看好未来增长；<br />\n大于 1，高估 or 看好未来增长</p>\n<p>注意，EPS 增长率来自分析师的主观判断，所以 PEG 有没有用要看判断是否正确</p>\n<h2 id=\"市净率\"><a class=\"anchor\" href=\"#市净率\">#</a> 市净率</h2>\n<p>相比市盈率，公司净资产账面价值稳定易获取，不像收益指标容易人为操纵</p>\n<p>但是，净资产的计算受会计准则选择的影响，不同会计准则的公司市净率没有可比性；<br />\n此外，固定资产较少的服务业 &amp; 高科技产业，无法满足市净率的前提假设 ——“股权价值与净资产关系密切”，所以市净率没啥用</p>\n<h2 id=\"市销率\"><a class=\"anchor\" href=\"#市销率\">#</a> 市销率</h2>\n<p>比市盈率更通用，销售收入也较为可靠</p>\n<p>但公司销售收入无法反应成本变化，而成本又是决定公司现金流与价值的重要因素</p>\n<h2 id=\"总结\"><a class=\"anchor\" href=\"#总结\">#</a> 总结</h2>\n<p>市盈率适用于连续盈利，自身发展与宏观经济状况相一致的公司</p>\n<p>PEG 适用于成长型公司</p>\n<p>市净率适用于用于大量资产且净资产为正的公司</p>\n<p>市销率适用于销售成本率较低的公司</p>\n<h1 id=\"绝对估值模型\"><a class=\"anchor\" href=\"#绝对估值模型\">#</a> 绝对估值模型</h1>\n<p>纵向比较，要求对目标公司的历史发展趋势掌握得比较清晰</p>\n<p>比相对估值法更准确、有说服力、可信度高</p>\n<p>主要包含：</p>\n<ul>\n<li>股利贴现模型。股利贴现模型类似债券，我们通过对发放的利息进行贴现，计算得到债券价格，那么股票同理。该模型主要适用于股利发放政策稳定的公司。</li>\n<li>现金流折现模型。现金流折现模型是绝对估值法的基础。最常见两种模型：公司自由现金流折现法 or 股权自由现金流折现。</li>\n<li>剩余收益模型。剩余收益模型认为，只有收益大于权益成本，才会增加公司的价值。这将收益与股东要求回报的差值 —— 剩余收益视作公司价值增加的度量值</li>\n</ul>\n<p>我们主要介绍后两者。</p>\n<h2 id=\"现金流折现模型\"><a class=\"anchor\" href=\"#现金流折现模型\">#</a> 现金流折现模型</h2>\n<p>之所以分为两种，因为对资本结构不稳定的公司（负债波动相对投资额过大），只看权益就难以准确评估公司的再投资率，无法准确判断公司未来的成长性与盈利能力，此时要用公司自由现金流来估值。</p>\n<blockquote>\n<p>价值就是公司从外部挣取的现金流，然而对于资本结构不稳定的公司，权益自由现金流多不一定是从外面挣的，也可能是从债权人手里拿的，这就不是公司价值高了</p>\n</blockquote>\n<h3 id=\"计算折现率\"><a class=\"anchor\" href=\"#计算折现率\">#</a> 计算折现率</h3>\n<h4 id=\"选什么作为折现率\"><a class=\"anchor\" href=\"#选什么作为折现率\">#</a> 选什么作为折现率</h4>\n<p>权益自由现金流使用权益资本成本<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mi>e</mi></msub></mrow><annotation encoding=\"application/x-tex\">K_e</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">e</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></p>\n<p>公司自由现金流考虑权益 + 债务，使用加权资本成本<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>W</mi><mi>A</mi><mi>C</mi><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">WACC</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">CC</span></span></span></span>：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>W</mi><mi>A</mi><mi>C</mi><mi>C</mi><mo>=</mo><mfrac><mi>D</mi><mrow><mi>D</mi><mo>+</mo><mi>E</mi></mrow></mfrac><mo>×</mo><msub><mi>R</mi><mi>d</mi></msub><mo>×</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mfrac><mi>E</mi><mrow><mi>D</mi><mo>+</mo><mi>E</mi></mrow></mfrac><mo>×</mo><msub><mi>K</mi><mi>e</mi></msub></mrow><annotation encoding=\"application/x-tex\">WACC=\\dfrac{D}{D+E}\\times R_d\\times(1-t)+\\dfrac{E}{D+E}\\times K_e\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">CC</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.1297em;vertical-align:-0.7693em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7693em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.1297em;vertical-align:-0.7693em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7693em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">e</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>其中<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>R</mi><mi>d</mi></msub></mrow><annotation encoding=\"application/x-tex\">R_d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 是企业债务加权资本成本，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span> 代表企业所得税税率，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mi>e</mi></msub></mrow><annotation encoding=\"application/x-tex\">K_e</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">e</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 是权益资本成本，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi></mrow><annotation encoding=\"application/x-tex\">D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span></span></span></span> 和<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span> 分别是所有者权益与负债的市场价值</p>\n<h4 id=\"计算权益资本成本\"><a class=\"anchor\" href=\"#计算权益资本成本\">#</a> 计算权益资本成本</h4>\n<p>基于最常用的 CAPM 模型，我们可以计算权益资本成本：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>E</mi><mo stretchy=\"false\">(</mo><mi>R</mi><mo stretchy=\"false\">)</mo><mo>=</mo><msub><mi>r</mi><mi>f</mi></msub><mo>+</mo><mi>β</mi><mo stretchy=\"false\">(</mo><mi>E</mi><mo stretchy=\"false\">(</mo><msub><mi>r</mi><mi>m</mi></msub><mo stretchy=\"false\">)</mo><mo>−</mo><msub><mi>r</mi><mi>f</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">E(R)=r_f+\\beta(E(r_m)-r_f)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>其中<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>r</mi><mi>f</mi></msub></mrow><annotation encoding=\"application/x-tex\">r_f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 为无风险利率，一般使用政府长期债券利率。注意利率的选用：一般使用实际利率，但模型使用名义自由现金流（将通胀纳入考虑），折现率使用名义利率（实际利率<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo></mrow><annotation encoding=\"application/x-tex\">-</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">−</span></span></span></span> 通胀）<br />\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi><mo stretchy=\"false\">(</mo><msub><mi>r</mi><mi>m</mi></msub><mo stretchy=\"false\">)</mo><mo>−</mo><msub><mi>r</mi><mi>f</mi></msub></mrow><annotation encoding=\"application/x-tex\">E(r_m)-r_f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> 为市场风险溢价，即 “一分风险，一份收益”、每份波动（风险）的期望收益<br />\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span></span></span></span> 为企业系统系风险水平，衡量公司承担了多少市场风险，一般靠历史收益率数据回归（企业历史股价收益率溢价 &amp; 市场溢价）</p>\n<ul>\n<li>对于不成熟市场，计算无风险利率一般：</li>\n</ul>\n<ol>\n<li>\n<p>美国（发达市场）国债利率 +（本国主权债券利率<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo></mrow><annotation encoding=\"application/x-tex\">-</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">−</span></span></span></span> 美国国债利率），差值由穆迪评级得到</p>\n</li>\n<li>\n<p>美国（发达市场）国债利率 + 本国 CDS（信用违约互换）的违约价差</p>\n</li>\n</ol>\n<b>\n<ul>\n<li>对于市场风险溢价，改进计算方法：</li>\n</ul>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi><mo stretchy=\"false\">(</mo><msub><mi>r</mi><mi>m</mi></msub><mo stretchy=\"false\">)</mo><mo>−</mo><msub><mi>r</mi><mi>f</mi></msub><mo>=</mo></mrow><annotation encoding=\"application/x-tex\">E(r_m)-r_f=</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span></span></span></span> 美股（成熟股票市场）基础溢价<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>+</mo></mrow><annotation encoding=\"application/x-tex\">+</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">+</span></span></span></span> 本国市场溢价</p>\n<p>其中，本国市场溢价<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>=</mo></mrow><annotation encoding=\"application/x-tex\">=</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.3669em;\"></span><span class=\"mrel\">=</span></span></span></span> 两国债券利率差<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>×</mo><mo stretchy=\"false\">(</mo></mrow><annotation encoding=\"application/x-tex\">\\times(</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">×</span><span class=\"mopen\">(</span></span></span></span>股市波动率<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">/</mi></mrow><annotation encoding=\"application/x-tex\">/</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">/</span></span></span></span> 债券市场波动率<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mclose\">)</span></span></span></span>，该比值一般为<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1.5</mn><mo>:</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1.5:1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1.5</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></p>\n<b>\n<ul>\n<li>注意！由于杠杆会放大企业的波动，实际上回归得到的<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span></span></span></span> 还要处理，有杠杆系数和无杠杆系数的关系：</li>\n</ul>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>β</mi><mi>L</mi></msub><mo>=</mo><msub><mi>β</mi><mi>u</mi></msub><mo stretchy=\"false\">[</mo><mn>1</mn><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><mo stretchy=\"false\">)</mo><mi>D</mi><mi mathvariant=\"normal\">/</mi><mi>E</mi><mo stretchy=\"false\">]</mo><mo>−</mo><msub><mi>β</mi><mi>D</mi></msub><mi>t</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>D</mi><mi mathvariant=\"normal\">/</mi><mi>E</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\beta_L=\\beta_u[1+(1-t)D/E]-\\beta_Dt(1-t)(D/E)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">L</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">u</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mclose\">]</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>其中，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>β</mi><mi>L</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\beta_L</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">L</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 为有杠杆系数，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>β</mi><mi>u</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\beta_u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">u</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 代表无杠杆系数，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>β</mi><mi>D</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\beta_D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 为负债系数</p>\n<ol>\n<li>回归得到的系数为有杠杆系数</li>\n<li>对于权益自由现金流，使用有杠杆系数计算权益资本成本</li>\n<li>对于企业自由现金流，使用无杠杆系数计算权益资本成本，再计算 WACC</li>\n</ol>\n<h3 id=\"计算自由现金流\"><a class=\"anchor\" href=\"#计算自由现金流\">#</a> 计算自由现金流</h3>\n<p>企业做一个大蛋糕，被政府咬走一口（税），剩下的分两块（息 &amp; 本金，权益）</p>\n<p>企业：息税前利润<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>×</mo></mrow><annotation encoding=\"application/x-tex\">\\times</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">×</span></span></span></span>（1 - 税率）- 资本支出 + 折旧 - 营运资本净增加</p>\n<p>权益：净利润 - 资本支出 + 折旧 - 营运资本净增加 - 偿付的本金 + 发行新债 - 优先股股利</p>\n<blockquote>\n<p>加折旧的原因 —— 折旧每年摊销在成本里，但是其实并没有实际流出</p>\n<p>具体讲讲研发费用的资本化 or 费用化操作：</p>\n<ul>\n<li>费用化\n<ul>\n<li>资产负债表无体现</li>\n<li>利润表第一年计入经营成本中的 “研发费用” 科目</li>\n<li>现金流量表第一年支出增多，分散在经营活动的 “支付职工薪酬” 或 “购买商品、劳务支付的现金” 中</li>\n</ul>\n</li>\n</ul>\n<p>计算自由现金流时无需调整</p>\n<ul>\n<li>资产化\n<ul>\n<li>初始资产负债表增加资产类科目 “开发支出”，位于无形资产下一行，若研发项目完成并形成无形资产，则转入 “无形资产” 科目。</li>\n<li>利润表初始无体现，后续摊销金额计入 “管理费用” 或 “研发费用” 中的摊销部分，影响当期利润</li>\n<li>现金流量表初始计入投资活动，在 “购建固定资产、无形资产等支付的现金” 中体现，后续无体现</li>\n</ul>\n</li>\n</ul>\n<p>计算自由现金流时，初始年份投资活动现金流出，需在计算自由现金流时扣除；后续年份需加回摊销</p>\n</blockquote>\n<p>计算自由现金流时使用 TTM 滚动计算，要保证实时性</p>\n<h3 id=\"盈利增长率\"><a class=\"anchor\" href=\"#盈利增长率\">#</a> 盈利增长率</h3>\n<p>在假设企业现有项目收益水平不变的情况下，</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mtext>盈利增长率</mtext><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mfrac><mrow><mtext>新项目投资额</mtext><mo>×</mo><mtext>新项目收益率</mtext></mrow><mtext>现阶段盈利额</mtext></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mo lspace=\"0em\" rspace=\"0em\">=</mo></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mtext>再投资率</mtext><mo>×</mo><mtext>新项目收益率</mtext></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{align*}\n\\text{盈利增长率}=&amp; \\dfrac{\\text{新项目投资额}\\times\\text{新项目收益率}}{\\text{现阶段盈利额}}\\\\\\\\\n=&amp;\\text{再投资率}\\times\\text{新项目收益率}\n\\end{align*}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:5.3463em;vertical-align:-2.4232em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.9232em;\"><span style=\"top:-4.9232em;\"><span class=\"pstrut\" style=\"height:3.3603em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord cjk_fallback\">盈利增长率</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span></span></span><span style=\"top:-3.0972em;\"><span class=\"pstrut\" style=\"height:3.3603em;\"></span><span class=\"mord\"></span></span><span style=\"top:-1.5972em;\"><span class=\"pstrut\" style=\"height:3.3603em;\"></span><span class=\"mord\"><span class=\"mrel\">=</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.4232em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.9232em;\"><span style=\"top:-4.9232em;\"><span class=\"pstrut\" style=\"height:3.3603em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord cjk_fallback\">现阶段盈利额</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord cjk_fallback\">新项目投资额</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord text\"><span class=\"mord cjk_fallback\">新项目收益率</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span><span style=\"top:-1.5972em;\"><span class=\"pstrut\" style=\"height:3.3603em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord text\"><span class=\"mord cjk_fallback\">再投资率</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord text\"><span class=\"mord cjk_fallback\">新项目收益率</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.4232em;\"><span></span></span></span></span></span></span></span></span></span></span></span></p>\n<h3 id=\"长期增长律终值\"><a class=\"anchor\" href=\"#长期增长律终值\">#</a> 长期增长律 &amp; 终值</h3>\n<p>考虑经济体中总会有其他高增长企业，企业稳定后的长期增长率应该略低于经济增长率</p>\n<p>可以选择经济体无风险利率</p>\n<p>对于长期稳定的公司，贝塔系数接近 1，负债比率接近行业均值</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>企业终值=</mtext><mfrac><mtext>进入稳定发展初期的自由现金流</mtext><mrow><mtext>企业资本成本</mtext><mo>−</mo><mtext>长期增长率</mtext></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\text{企业终值=}\\dfrac{\\text{进入稳定发展初期的自由现金流}}{\\text{企业资本成本}-\\text{长期增长率}}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.1297em;vertical-align:-0.7693em;\"></span><span class=\"mord text\"><span class=\"mord cjk_fallback\">企业终值</span><span class=\"mord\">=</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord cjk_fallback\">企业资本成本</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord text\"><span class=\"mord cjk_fallback\">长期增长率</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord cjk_fallback\">进入稳定发展初期的自由现金流</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7693em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>最后企业价值（EV）<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>=</mo><mo stretchy=\"false\">[</mo></mrow><annotation encoding=\"application/x-tex\">=[</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.3669em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span></span></span></span>短期（成长期）自由现金流（FCF）<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>+</mo></mrow><annotation encoding=\"application/x-tex\">+</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">+</span></span></span></span> 终值 (TV)<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mclose\">]</span></span></span></span> 的折现</p>\n<h2 id=\"剩余收益模型\"><a class=\"anchor\" href=\"#剩余收益模型\">#</a> 剩余收益模型</h2>\n<p>剩余收益模型（RIM）将公司价值分为两块：账面价值 + 剩余收益溢价。其中账面价值来源于资产负债表，溢价的计算来自于复杂处理以及估算。</p>\n<p>RIM 三大假设：</p>\n<h3 id=\"假设一\"><a class=\"anchor\" href=\"#假设一\">#</a> 假设一</h3>\n<p>公司价值 = 已投入资本 + 未来剩余收益的现值。</p>\n<p>投资收益为正不足够，要超过股东要求回报才算好投资。</p>\n<h3 id=\"假设二\"><a class=\"anchor\" href=\"#假设二\">#</a> 假设二</h3>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>R</mi><mi>I</mi><mo>=</mo><mi>E</mi><mi>a</mi><mi>r</mi><mi>n</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi><mo>−</mo><mo stretchy=\"false\">(</mo><mi>r</mi><mo>×</mo><mi>C</mi><mi>a</mi><mi>p</mi><mi>i</mi><mi>t</mi><mi>a</mi><mi>l</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">(</mo><mi>R</mi><mi>O</mi><mi>I</mi><mi>C</mi><mo>−</mo><mi>r</mi><mo stretchy=\"false\">)</mo><mo>×</mo><mi>C</mi><mi>a</mi><mi>p</mi><mi>i</mi><mi>t</mi><mi>a</mi><mi>l</mi></mrow><annotation encoding=\"application/x-tex\">RI=Earnings-(r\\times Capital)=(ROIC-r)\\times Capital\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">nin</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">s</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">RO</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span></p>\n<p>其中<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mi>I</mi></mrow><annotation encoding=\"application/x-tex\">RI</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span></span></span></span> 为剩余收益，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi><mi>a</mi><mi>r</mi><mi>n</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">Earnings</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">nin</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">s</span></span></span></span> 为净利润，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mi>O</mi><mi>I</mi><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">ROIC</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">RO</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span> 为投入资本收益率，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span> 为资本成本，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>a</mi><mi>p</mi><mi>i</mi><mi>t</mi><mi>a</mi><mi>l</mi></mrow><annotation encoding=\"application/x-tex\">Capital</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span></span></span></span> 为已投入资本</p>\n<p>如果是长期投资者，即对应股权所有者 &amp; 债券所有者的剩余收益，公式变为：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>R</mi><mi>I</mi><mo>=</mo><mi>E</mi><mi>B</mi><mi>I</mi><mi>T</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><mi>T</mi><mo stretchy=\"false\">)</mo><mo>−</mo><mo stretchy=\"false\">(</mo><mi>W</mi><mi>A</mi><mi>C</mi><mi>C</mi><mo>×</mo><mi>A</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">RI=EBIT(1-T)-(WACC\\times A)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">EB</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">CC</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>如果只是股权所有者，公式变为：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>R</mi><mi>I</mi><mo>=</mo><mi>N</mi><mi>I</mi><mo>−</mo><mo stretchy=\"false\">(</mo><mi>r</mi><mo>×</mo><mi>B</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">(</mo><mi>R</mi><mi>O</mi><mi>E</mi><mo>−</mo><mi>r</mi><mo stretchy=\"false\">)</mo><mo>×</mo><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">RI=NI-(r\\times B)=(ROE-r)\\times B\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">ROE</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span></p>\n<p>其中 NI 为净利润，r 为股权资本成本，B 为净资产，ROE 为净资产收益率</p>\n<h3 id=\"假设三\"><a class=\"anchor\" href=\"#假设三\">#</a> 假设三</h3>\n<p>公司价值满足净盈余关系：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>B</mi><mi>t</mi></msub><mo>=</mo><msub><mi>B</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>E</mi><mi>t</mi></msub><mo>−</mo><msub><mi>D</mi><mi>t</mi></msub><mo>=</mo><msub><mi>B</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><mi>k</mi><mo stretchy=\"false\">)</mo><mo>×</mo><msub><mi>E</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">B_t=B_{t-1}+E_t-D_t=B_{t-1}+(1-k)\\times E_t\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8917em;vertical-align:-0.2083em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8917em;vertical-align:-0.2083em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>其中，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>B</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">B_t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 代表第 t 期公司的账面价值，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>E</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">E_t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 代表第 t 期会计盈余，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 代表第 t 期发放的现金股利，k 为分红率</p>\n<p>根据以上三大假设及公式，我们可以得到市净率的计算公式并有以下结论：</p>\n<p>如果账面价值的预期收益等于股东回报要求，市净率为 1</p>\n<p>实际中，我们经常使用 “512” or “712” 模型，预测 5 年 or7 年的快速增长期，随后放缓，总计预测 12 年。在模型中属于需要的 5 个参数（参照原书），即可得到预测的公司价值。</p>\n<blockquote>\n<p>注：</p>\n<ul>\n<li>对于折现率，一般在 10%，高杠杆、高波动行业的公司折现率一般更大。</li>\n<li>在高速增长过后，公司盈利能力逐步回归行业平均水平。若行业平均 ROE 计算困难，可以逐步调整行业 ROE，使盈利增长率约等于长期名义 GDP 增长率</li>\n</ul>\n</blockquote>\n<p>相比现金流折现模型，RIM 模型强调投资能盈利多少，所需数据直接从资产负债表 &amp; 利润表中得到；现金流折现模型假设公司永续经营（不合现实事实），需要将原始会计数据一系列调整才能算出所需现金流</p>\n<h1 id=\"资本运作\"><a class=\"anchor\" href=\"#资本运作\">#</a> 资本运作</h1>\n<p>目的：利润最大化、资本增值</p>\n<p>手段：企业内跨部门资本重组、跨企业资本重组</p>\n<h2 id=\"增发配股\"><a class=\"anchor\" href=\"#增发配股\">#</a> 增发配股</h2>\n<ul>\n<li>公开增发：面向所有投资者；有财务指标要求，发行价格有最低要求，无锁定期要求</li>\n<li>定向增发：面向特定对象，一般为有实力的金融机构；没财务要求，要求低；发行价格有最低要求，有锁定期，风险高，一般非公开</li>\n<li>配股：向原股东配售股份，老股东可以参与也可以不参与，一般不会稀释股权</li>\n</ul>\n<h2 id=\"员工持股计划\"><a class=\"anchor\" href=\"#员工持股计划\">#</a> 员工持股计划</h2>\n<p>有信心，一般发布消息后公司股价会暴涨，利好</p>\n<h2 id=\"并购重组\"><a class=\"anchor\" href=\"#并购重组\">#</a> 并购重组</h2>\n<p>跨公司合并 or 相互参股</p>\n<p>我国一般使用现金收购 or 股权收购</p>\n<ul>\n<li>股权投资：把你家公司股票买了，获得控股权</li>\n<li>吸收股份并购：你公司（净资产）给我，我给你我家股票，你是我股东了</li>\n<li>资产重组：买卖资产、合并换购、债务处理等。狭义重组只涉及资产 &amp; 负债，广义重组涉及机构与人员调整；内部重组是只有自家企业，外部重组是跨企业</li>\n</ul>\n<h2 id=\"股份回购\"><a class=\"anchor\" href=\"#股份回购\">#</a> 股份回购</h2>\n<p>用自有资金 or 债务融资，购回普通股，库藏 or 注销</p>\n<p>目标：规避大手对现金红利的管理，或调整公司资本结构应对恶意收购</p>\n<h1 id=\"总结-2\"><a class=\"anchor\" href=\"#总结-2\">#</a> 总结</h1>\n<p>了解基本面作为因子来源<br />\n规避 “黑天鹅” 控制风险</p>\n",
            "tags": [
                "量化",
                "基本面",
                "金融"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/quant/c-fundamental/%E5%9F%BA%E6%9C%AC%E9%9D%A2%E9%87%8F%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%89%EF%BC%89/",
            "url": "https://liuxiaohanhanzi.top/quant/c-fundamental/%E5%9F%BA%E6%9C%AC%E9%9D%A2%E9%87%8F%E5%8C%96%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%89%EF%BC%89/",
            "title": "基本面量化学习（三）",
            "date_published": "2025-02-02T14:23:30.000Z",
            "content_html": "<h1 id=\"财务指标\"><a class=\"anchor\" href=\"#财务指标\">#</a> 财务指标</h1>\n<p>基于财报，我们可以使用七种指标衡量公司状况。</p>\n<h2 id=\"盈利能力\"><a class=\"anchor\" href=\"#盈利能力\">#</a> 盈利能力</h2>\n<p>主要包含：净资产收益率 ROE、资产收益率 ROA、销售毛利率、主营业务利润率、净利率</p>\n<ol>\n<li>因为优先股性质更像债券，所以一般先从净利润刨去优先股股利，ROE 取普通股股权的盈利能力</li>\n<li>对于 ROA，有时可以用营业利润代替净利润计算</li>\n</ol>\n<h2 id=\"短期偿债水平流动性水平\"><a class=\"anchor\" href=\"#短期偿债水平流动性水平\">#</a> 短期偿债水平（流动性水平）</h2>\n<p>包含：流动比率（流动资产 / 流动负债）、速动比率（流动资产 - 存货 - 其他流动资产 / 流动负债）、现金比率（分子为现金、现金等价物、短期可交易证券）</p>\n<ol>\n<li>流动比率高更好，但过高要担心是不是存货多、应收账款难收回、现金管理出问题等</li>\n<li>速动比率就是比流动比率更保守些，刨去那些难以短时间变现 or 会折价的资产，如存货、预付费用（钱已付，服务还没享受 or 到货）；如果速动比率和流动比率差距很大，意味着企业主要流动性靠存货撑着</li>\n<li>流动比率、速动比率、现金比率，逐渐保守严苛</li>\n</ol>\n<h2 id=\"清偿能力\"><a class=\"anchor\" href=\"#清偿能力\">#</a> 清偿能力</h2>\n<p>包含：负债比率（总负债 / 总资产）、产权比率（总负债 / 普通股权益）、利息保障倍数（息税前利润 EBIT / 利息）</p>\n<ol>\n<li>也可以使用经营活动现金净流量 or 自由现金流量（再减去资本支出），这更能反应企业通过主营业务获取现金 cover 负债的能力。若该比值较低可能负债太重 or 企业挣钱能力下降</li>\n<li>杠杆同时放大收益和风险</li>\n<li>负债比率中包含了经营业务的必要债务（应收账款等）</li>\n<li>有时会用更保守的产权比率 —— 分母换为有形净资产，即所有者权益 - 无形资产</li>\n<li>利息保障倍数一般在 1.5 以上才算健康，其在一个经济周期受影响并波动</li>\n</ol>\n<h2 id=\"营运能力\"><a class=\"anchor\" href=\"#营运能力\">#</a> 营运能力</h2>\n<p>包含：存货周转率（存货转为销售成本，反应卖出去的数量）、应收账款周转率（转为销售收入）、总资产周转率（转为销售收入）、固定资产周转率（转为销售收入）</p>\n<p>这些指标基本都是高了好，但是过高可能</p>\n<ul>\n<li>存货少</li>\n<li>应收账款要求严苛，损失客户</li>\n<li>选择劳动力密集型而非资本密集型</li>\n<li>固定资产扩张受限，规模增长出现问题</li>\n</ul>\n<h2 id=\"成长能力\"><a class=\"anchor\" href=\"#成长能力\">#</a> 成长能力</h2>\n<p>包含：销售收入同比增长率、净利润增长率、总资产增长率、固定资产占比</p>\n<p>没啥好说的，就是成长势头越强越好；且同行业中，固定资产占比越低，资产利用率一般越高</p>\n<h2 id=\"现金流情况\"><a class=\"anchor\" href=\"#现金流情况\">#</a> 现金流情况</h2>\n<p>包含：单位销售现金净流入（经营净流水 / 销售收入）、债务保障率（经营净流水 / 总负债）、自由现金流占比（经营净流水 - 资本支出 / 经营净流水）</p>\n<ol>\n<li>对长期股利发放的公司，股利发放率（每股股利 / 每股收益）也能判断公司现金流是否充足</li>\n<li>单位销售现金净流入比率高，意味着获取现金的能力强，风险小，财务造假可能性低</li>\n<li>自由现金流才是企业用于扩张、并购、投资等其他非主营业务的资金来源</li>\n</ol>\n<h2 id=\"市场表现\"><a class=\"anchor\" href=\"#市场表现\">#</a> 市场表现</h2>\n<p>包含：每股净收益 EPS、市盈率、市净率、市销率</p>\n<ol>\n<li>有时 PEG（市盈率 / EPS 增长率）更适用于高增长企业</li>\n<li>EPS 一般能查到两种，稀释每股收益的分母把可转债等潜在股权工具也计入了，更保守</li>\n<li>市净率更对口资本密集型 or 金融行业公司</li>\n<li>销售收入受会计准则影响小，比市盈率更可靠</li>\n</ol>\n<h1 id=\"横向比较纵向比较\"><a class=\"anchor\" href=\"#横向比较纵向比较\">#</a> 横向比较 &amp; 纵向比较</h1>\n<p>横向即和行业内其他相似公司比；</p>\n<p>纵向即看往期历史</p>\n",
            "tags": [
                "量化",
                "基本面",
                "金融"
            ]
        },
        {
            "id": "https://liuxiaohanhanzi.top/blog-construction/ShokaX%E6%9B%B4%E6%96%B0/",
            "url": "https://liuxiaohanhanzi.top/blog-construction/ShokaX%E6%9B%B4%E6%96%B0/",
            "title": "ShokaX更新",
            "date_published": "2025-02-01T09:39:59.000Z",
            "content_html": "<h1 id=\"git工程存档\"><a class=\"anchor\" href=\"#git工程存档\">#</a> git 工程存档</h1>\n<p>git status、add、commit、push</p>\n<p>先进行备份</p>\n<h1 id=\"更新\"><a class=\"anchor\" href=\"#更新\">#</a> 更新</h1>\n<p>由于 pnpm-lock 的原因，直接 update 无效果，应运行：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">pnpm</span> <span class=\"token function\">install</span> <span class=\"token operator\">&lt;</span>package name<span class=\"token operator\">></span>@latest <span class=\"token parameter variable\">--force</span></pre></td></tr></table></figure><p>查看项目当前包版本落后最新版的情况：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">pnpm</span> outdated</pre></td></tr></table></figure><p>释放内存：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">pnpm</span> store prune</pre></td></tr></table></figure><h1 id=\"debug工作\"><a class=\"anchor\" href=\"#debug工作\">#</a> debug 工作</h1>\n<p>本次 hexo-theme-shokax 更新到 0.4.20 后，出现了以下问题：</p>\n<h2 id=\"depth_zero_self_signed_cert\"><a class=\"anchor\" href=\"#depth_zero_self_signed_cert\">#</a> DEPTH_ZERO_SELF_SIGNED_CERT</h2>\n<p><img loading=\"lazy\" data-src=\"./image-20250201181016518.png\" alt=\"image-20250201181016518\" /></p>\n<p>hexo g 时产生上图报错，解决方法是联网</p>\n<h2 id=\"cannot-read-properties-of-undefined-reading-source\"><a class=\"anchor\" href=\"#cannot-read-properties-of-undefined-reading-source\">#</a> Cannot read properties of undefined (reading 'source')</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>TypeError: E:<span class=\"token punctuation\">\\</span>blogger<span class=\"token punctuation\">\\</span>shokax-can<span class=\"token punctuation\">\\</span>themes<span class=\"token punctuation\">\\</span>shokax<span class=\"token punctuation\">\\</span>layout<span class=\"token punctuation\">\\</span>_partials<span class=\"token punctuation\">\\</span>layout.pug:143</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Cannot <span class=\"token builtin class-name\">read</span> properties of undefined <span class=\"token punctuation\">(</span>reading <span class=\"token string\">'source'</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>本次更新了 fancybox，因此原 shokax 文件夹下的_config.yml 与之前不同，尤其 <code>vendors</code>  部分，根目录下的 <code>config.shokax.yml</code>  要对应更新</p>\n<h1 id=\"twitoo更新\"><a class=\"anchor\" href=\"#twitoo更新\">#</a> twitoo 更新</h1>\n<p>评论区的依赖包也顺手更了</p>\n<p>注意先更新本地包，然后去 vercel 与 github 更新接口版本号，<br />\n官网有教程</p>\n",
            "tags": [
                "博客搭建",
                "shoka"
            ]
        }
    ]
}